<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê´€ë¦¬ì í˜ì´ì§€ - ì²­ì†Œë…„ë“œë¡ ìŠ¤í¬ì¸ í˜‘íšŒ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        :root {
            --sidebar-w: 260px;
            --header-h: 60px;
            --bg: #0f1923;
            --bg2: #162231;
            --bg3: #1c2d40;
            --bg4: #243750;
            --text: #e6edf3;
            --text2: #8b949e;
            --blue: #5b8def;
            --gold: #d4a843;
            --red: #e74c3c;
            --green: #2ecc71;
            --orange: #f39c12;
            --purple: #a78bfa;
            --border: #2d3f52;
        }
        body { font-family:'Noto Sans KR',sans-serif; background:var(--bg); color:var(--text); overflow-x:hidden; }

        /* Login Screen */
        .login-screen {
            min-height:100vh; display:flex; align-items:center; justify-content:center;
            background:linear-gradient(135deg,#0f1923,#162231);
        }
        .login-box {
            background:var(--bg2); border:1px solid var(--border); border-radius:20px;
            padding:48px 40px; width:420px; text-align:center;
        }
        .login-logo { font-size:48px; margin-bottom:16px; }
        .login-box h1 { font-size:22px; margin-bottom:4px; }
        .login-box p { font-size:13px; color:var(--text2); margin-bottom:32px; }
        .login-box input {
            width:100%; padding:14px 16px; border:1px solid var(--border); border-radius:10px;
            background:var(--bg3); color:var(--text); font-size:14px; margin-bottom:12px; outline:none;
            font-family:inherit;
        }
        .login-box input:focus { border-color:var(--blue); }
        .login-box button {
            width:100%; padding:14px; border:none; border-radius:10px; background:var(--blue);
            color:white; font-size:15px; font-weight:700; cursor:pointer; margin-top:8px;
            font-family:inherit; transition:background .3s;
        }
        .login-box button:hover { background:#4a7cd8; }
        .login-error { color:var(--red); font-size:13px; margin-top:12px; display:none; }
        .login-divider { display:flex; align-items:center; gap:12px; margin:14px 0; color:var(--text2); font-size:12px; }
        .login-divider::before, .login-divider::after { content:''; flex:1; height:1px; background:var(--border); }
        .google-btn { width:100%; padding:13px; border:1px solid var(--border); border-radius:10px; background:#fff; color:#333; font-size:14px; font-weight:600; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:10px; font-family:inherit; transition:background .2s; }
        .google-btn:hover { background:#f1f3f4; }

        /* Layout */
        .admin-layout { display:none; }
        .sidebar {
            position:fixed; left:0; top:0; bottom:0; width:var(--sidebar-w);
            background:var(--bg2); border-right:1px solid var(--border); z-index:100;
            display:flex; flex-direction:column; overflow-y:auto;
        }
        .sidebar-logo {
            padding:20px 24px; border-bottom:1px solid var(--border);
            display:flex; align-items:center; gap:12px;
        }
        .sidebar-logo .icon {
            width:36px; height:36px; background:linear-gradient(135deg,var(--gold),#f0c75e);
            border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:18px;
        }
        .sidebar-logo span { font-weight:700; font-size:14px; }
        .sidebar-nav { flex:1; padding:16px 12px; }
        .sidebar-section { font-size:11px; color:var(--text2); padding:16px 12px 8px; letter-spacing:2px; font-weight:700; }
        .sidebar-item {
            display:flex; align-items:center; gap:12px; padding:12px 16px; border-radius:10px;
            cursor:pointer; font-size:14px; color:var(--text2); transition:all .2s; margin-bottom:2px;
        }
        .sidebar-item:hover { background:var(--bg3); color:var(--text); }
        .sidebar-item.active { background:var(--blue); color:white; }
        .sidebar-item .icon { font-size:18px; width:24px; text-align:center; }
        .sidebar-item .badge {
            margin-left:auto; background:var(--red); color:white; font-size:11px;
            padding:2px 8px; border-radius:10px; font-weight:700;
        }
        .sidebar-user {
            padding:16px 20px; border-top:1px solid var(--border);
            display:flex; align-items:center; gap:12px;
        }
        .sidebar-user .avatar {
            width:36px; height:36px; background:var(--bg4); border-radius:50%;
            display:flex; align-items:center; justify-content:center; font-size:16px;
        }
        .sidebar-user .info { flex:1; }
        .sidebar-user .name { font-size:13px; font-weight:700; }
        .sidebar-user .role { font-size:11px; color:var(--text2); }
        .sidebar-user .logout-btn {
            background:none; border:none; color:var(--text2); cursor:pointer; font-size:16px;
            padding:4px; transition:color .2s;
        }
        .sidebar-user .logout-btn:hover { color:var(--red); }

        /* Header */
        .admin-header {
            position:fixed; top:0; left:var(--sidebar-w); right:0; height:var(--header-h);
            background:rgba(15,25,35,0.95); backdrop-filter:blur(10px);
            border-bottom:1px solid var(--border); z-index:99;
            display:flex; align-items:center; justify-content:space-between; padding:0 32px;
        }
        .admin-header h2 { font-size:18px; font-weight:700; }
        .header-actions { display:flex; gap:12px; align-items:center; }
        .header-btn {
            padding:8px 20px; border-radius:8px; border:1px solid var(--border);
            background:var(--bg3); color:var(--text); font-size:13px; cursor:pointer;
            font-family:inherit; transition:all .2s;
        }
        .header-btn:hover { border-color:var(--blue); }
        .header-btn.primary { background:var(--blue); border-color:var(--blue); color:white; font-weight:700; }
        .header-btn.primary:hover { background:#4a7cd8; }
        .header-btn.danger { background:var(--red); border-color:var(--red); color:white; }

        /* Main Content */
        .admin-main {
            margin-left:var(--sidebar-w); margin-top:var(--header-h); padding:32px;
            min-height:calc(100vh - var(--header-h));
        }

        /* Dashboard */
        .stats-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:20px; margin-bottom:32px; }
        .stat-card {
            background:var(--bg2); border:1px solid var(--border); border-radius:14px; padding:24px;
        }
        .stat-card .label { font-size:13px; color:var(--text2); margin-bottom:8px; }
        .stat-card .value { font-size:32px; font-weight:900; }
        .stat-card .change { font-size:12px; margin-top:8px; }
        .stat-card .change.up { color:var(--green); }
        .stat-card .change.down { color:var(--red); }

        /* Content Panels */
        .panel { display:none; }
        .panel.active { display:block; }

        /* Cards */
        .admin-card {
            background:var(--bg2); border:1px solid var(--border); border-radius:14px;
            padding:28px; margin-bottom:20px;
        }
        .admin-card h3 {
            font-size:16px; font-weight:700; margin-bottom:20px; display:flex;
            align-items:center; gap:10px; padding-bottom:16px; border-bottom:1px solid var(--border);
        }
        .admin-card h3 .card-badge {
            margin-left:auto; font-size:12px; color:var(--text2); font-weight:400;
        }

        /* Form Elements */
        .form-group { margin-bottom:20px; }
        .form-group label {
            display:block; font-size:13px; font-weight:700; color:var(--text2);
            margin-bottom:8px; letter-spacing:0.5px;
        }
        .form-group input, .form-group textarea, .form-group select {
            width:100%; padding:12px 16px; border:1px solid var(--border); border-radius:10px;
            background:var(--bg3); color:var(--text); font-size:14px; outline:none;
            font-family:inherit; transition:border-color .2s;
        }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            border-color:var(--blue);
        }
        .form-group textarea { resize:vertical; min-height:120px; line-height:1.7; }
        .form-row { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
        .form-row.three { grid-template-columns:1fr 1fr 1fr; }

        /* Table */
        .admin-table {
            width:100%; border-collapse:collapse; font-size:14px;
        }
        .admin-table th {
            text-align:left; padding:12px 16px; font-size:12px; color:var(--text2);
            border-bottom:1px solid var(--border); font-weight:700; letter-spacing:0.5px;
        }
        .admin-table td {
            padding:14px 16px; border-bottom:1px solid var(--border);
        }
        .admin-table tr:hover td { background:var(--bg3); }
        .status-badge {
            display:inline-block; padding:4px 12px; border-radius:20px; font-size:12px; font-weight:700;
        }
        .status-badge.pending { background:rgba(243,156,18,0.15); color:var(--orange); }
        .status-badge.approved { background:rgba(46,204,113,0.15); color:var(--green); }
        .status-badge.rejected { background:rgba(231,76,60,0.15); color:var(--red); }
        .status-badge.active { background:rgba(91,141,239,0.15); color:var(--blue); }

        .action-btn {
            padding:6px 12px; border:1px solid var(--border); border-radius:6px;
            background:transparent; color:var(--text2); cursor:pointer; font-size:12px;
            margin-right:4px; font-family:inherit; transition:all .2s;
        }
        .action-btn:hover { border-color:var(--blue); color:var(--blue); }
        .action-btn.approve:hover { border-color:var(--green); color:var(--green); }
        .action-btn.reject:hover { border-color:var(--red); color:var(--red); }
        .action-btn.delete:hover { border-color:var(--red); color:var(--red); }

        /* Tabs */
        .tab-bar {
            display:flex; gap:4px; margin-bottom:24px; border-bottom:1px solid var(--border); padding-bottom:0;
        }
        .tab-btn {
            padding:10px 20px; border:none; background:none; color:var(--text2);
            font-size:14px; cursor:pointer; font-family:inherit; border-bottom:2px solid transparent;
            transition:all .2s; font-weight:500;
        }
        .tab-btn:hover { color:var(--text); }
        .tab-btn.active { color:var(--blue); border-bottom-color:var(--blue); font-weight:700; }
        .tab-content { display:none; }
        .tab-content.active { display:block; }

        /* Modal */
        .modal-overlay {
            position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:1000;
            display:none; align-items:center; justify-content:center;
            backdrop-filter:blur(4px);
        }
        .modal-overlay.active { display:flex; }
        .modal {
            background:var(--bg2); border:1px solid var(--border); border-radius:16px;
            width:600px; max-height:80vh; overflow-y:auto; padding:32px;
        }
        .modal h3 { font-size:18px; font-weight:700; margin-bottom:24px; }
        .modal-actions { display:flex; gap:12px; justify-content:flex-end; margin-top:24px; }

        /* Toast */
        .toast {
            position:fixed; bottom:32px; right:32px; background:var(--green); color:white;
            padding:14px 24px; border-radius:10px; font-size:14px; font-weight:700;
            z-index:2000; transform:translateY(100px); opacity:0; transition:all .3s;
        }
        .toast.show { transform:translateY(0); opacity:1; }
        .toast.error { background:var(--red); }

        /* Responsive */
        @media(max-width:1024px) {
            .stats-grid { grid-template-columns:repeat(2,1fr); }
            .form-row { grid-template-columns:1fr; }
            .form-row.three { grid-template-columns:1fr; }
        }
        .sidebar-toggle-btn {
            display:none; background:none; border:none; color:var(--text);
            font-size:22px; cursor:pointer; padding:4px 8px; margin-right:4px; line-height:1;
        }
        .sidebar-overlay {
            display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5); z-index:99;
        }
        .sidebar-overlay.show { display:block; }
        @media(max-width:768px) {
            .sidebar { transform:translateX(-100%); transition:transform .3s; z-index:100; }
            .sidebar.open { transform:translateX(0); }
            .admin-header, .admin-main { margin-left:0; }
            .admin-header { padding:0 16px; }
            .admin-main { padding:16px; }
            .stats-grid { grid-template-columns:1fr; }
            .sidebar-toggle-btn { display:block; }
            .login-box { width:92%; max-width:420px; padding:32px 20px; }
        }

        /* Search */
        .search-bar {
            display:flex; gap:12px; margin-bottom:24px;
        }
        .search-bar input {
            flex:1; padding:10px 16px; border:1px solid var(--border); border-radius:10px;
            background:var(--bg3); color:var(--text); font-size:14px; outline:none; font-family:inherit;
        }
        .search-bar input:focus { border-color:var(--blue); }
        .search-bar select {
            padding:10px 16px; border:1px solid var(--border); border-radius:10px;
            background:var(--bg3); color:var(--text); font-size:14px; outline:none; font-family:inherit;
        }

        .empty-state {
            text-align:center; padding:60px 20px; color:var(--text2);
        }
        .empty-state .icon { font-size:48px; margin-bottom:16px; opacity:0.5; }
        .empty-state p { font-size:14px; }

        /* Editor toolbar */
        .editor-toolbar {
            display:flex; gap:4px; padding:8px; background:var(--bg); border:1px solid var(--border);
            border-bottom:none; border-radius:10px 10px 0 0; flex-wrap:wrap;
        }
        .editor-toolbar button {
            padding:6px 10px; background:none; border:1px solid transparent; border-radius:6px;
            color:var(--text2); cursor:pointer; font-size:14px; transition:all .2s;
        }
        .editor-toolbar button:hover { background:var(--bg3); color:var(--text); border-color:var(--border); }
        .form-group textarea.with-toolbar { border-radius:0 0 10px 10px; }

        /* Notice list */
        .notice-item {
            display:flex; align-items:center; gap:16px; padding:16px 0;
            border-bottom:1px solid var(--border);
        }
        .notice-item:last-child { border-bottom:none; }
        .notice-item .n-type {
            padding:4px 10px; border-radius:6px; font-size:11px; font-weight:700;
            flex-shrink:0;
        }
        .notice-item .n-type.notice { background:rgba(91,141,239,0.15); color:var(--blue); }
        .notice-item .n-type.event { background:rgba(46,204,113,0.15); color:var(--green); }
        .notice-item .n-type.urgent { background:rgba(231,76,60,0.15); color:var(--red); }
        .notice-item .n-title { flex:1; font-size:14px; font-weight:500; }
        .notice-item .n-date { font-size:12px; color:var(--text2); }
        /* Certificate Styles */
        .cert-print-page {
            width:700px; background:white; color:#1a1a2e; padding:0; margin:0 auto;
            border-radius:12px; overflow:hidden; font-family:'Noto Sans KR',sans-serif;
            box-shadow:0 8px 40px rgba(0,0,0,0.3);
        }
        .cert-border {
            border:3px solid #c49520; margin:12px; padding:0; position:relative;
        }
        .cert-border-inner {
            border:1px solid #c49520; margin:4px; padding:40px 48px;
        }
        .cert-header { text-align:center; margin-bottom:32px; }
        .cert-header-logo {
            width:80px; height:80px; margin:0 auto 16px;
            background:linear-gradient(135deg,#c49520,#e8b830); border-radius:50%;
            display:flex; align-items:center; justify-content:center; font-size:36px;
        }
        .cert-header h1 { font-size:32px; font-weight:900; color:#1a1a2e; letter-spacing:6px; margin-bottom:4px; }
        .cert-header .cert-type-title { font-size:14px; color:#c49520; font-weight:700; letter-spacing:4px; }
        .cert-divider { width:80px; height:3px; background:linear-gradient(90deg,transparent,#c49520,transparent); margin:24px auto; }
        .cert-body { text-align:center; }
        .cert-body .cert-label { font-size:13px; color:#888; letter-spacing:2px; margin-bottom:24px; }
        .cert-body .cert-name { font-size:42px; font-weight:900; color:#1a1a2e; margin-bottom:8px; letter-spacing:4px; }
        .cert-body .cert-name-line { width:200px; height:1px; background:#c49520; margin:0 auto 32px; }
        .cert-info-grid {
            display:grid; grid-template-columns:1fr 1fr; gap:16px; text-align:left;
            background:#f8f6f0; border-radius:10px; padding:20px 24px; margin-bottom:28px;
        }
        .cert-info-item { }
        .cert-info-item .ci-label { font-size:11px; color:#888; font-weight:700; letter-spacing:1px; margin-bottom:2px; }
        .cert-info-item .ci-value { font-size:15px; font-weight:700; color:#1a1a2e; }
        .cert-body-text {
            font-size:14px; line-height:2; color:#444; text-align:center; margin-bottom:28px;
        }
        .cert-body-text strong { color:#1a1a2e; }
        .cert-date { font-size:14px; color:#444; margin-bottom:32px; }
        .cert-footer { display:flex; justify-content:space-between; align-items:flex-end; margin-top:20px; }
        .cert-org { text-align:left; }
        .cert-org .org-name { font-size:16px; font-weight:900; color:#1a1a2e; }
        .cert-org .org-en { font-size:10px; color:#888; letter-spacing:1px; }
        .cert-stamp {
            text-align:right; position:relative;
        }
        .cert-stamp-circle {
            width:80px; height:80px; border:3px solid #c94040; border-radius:50%;
            display:flex; align-items:center; justify-content:center; flex-direction:column;
            color:#c94040; font-weight:900; margin-left:auto;
        }
        .cert-stamp-circle .s-top { font-size:9px; letter-spacing:1px; }
        .cert-stamp-circle .s-mid { font-size:14px; letter-spacing:2px; }
        .cert-stamp-circle .s-bot { font-size:8px; }
        .cert-chairman { text-align:right; font-size:14px; color:#444; margin-top:8px; }
        .cert-chairman strong { font-size:16px; color:#1a1a2e; }
        .cert-serial { text-align:center; font-size:11px; color:#aaa; margin-top:20px; letter-spacing:2px; }

        /* Print Styles */
        @media print {
            body * { visibility:hidden; }
            #certPrintArea, #certPrintArea * { visibility:visible; }
            #certPrintArea {
                position:fixed; left:0; top:0; width:100%; z-index:9999;
            }
            .cert-print-page {
                box-shadow:none; border-radius:0; width:100%; max-width:700px; margin:0 auto;
            }
            .modal-overlay, .header-btn { display:none !important; }
            @page { size:A4 landscape; margin:10mm; }
        }

    </style>
</head>
<body>

<!-- Login Screen -->
<div class="login-screen" id="loginScreen">
    <div class="login-box">
        <div class="login-logo"><img src="logo.png" alt="í˜‘íšŒ ë¡œê³ " style="width: 80px; height: 80px; object-fit: contain;"></div>
        <h1>ê´€ë¦¬ì ë¡œê·¸ì¸</h1>
        <p>ì²­ì†Œë…„ë“œë¡ ìŠ¤í¬ì¸ í˜‘íšŒ CMS</p>
        <input type="password" id="loginPassword" placeholder="ğŸ”‘ ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" onkeydown="if(event.key==='Enter')doLogin()" autocomplete="current-password">
        <button onclick="doLogin()">ë¡œê·¸ì¸</button>
        <div class="login-divider">ë˜ëŠ”</div>
        <button class="google-btn" onclick="doGoogleLogin()">
            <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.875 2.684-6.615z" fill="#4285F4"/><path d="M9 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9 18z" fill="#34A853"/><path d="M3.964 10.707c-.18-.54-.282-1.117-.282-1.707s.102-1.167.282-1.707V4.961H.957C.347 6.175 0 7.55 0 9s.348 2.825.957 4.039l3.007-2.332z" fill="#FBBC05"/><path d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.961L3.964 7.293C4.672 5.166 6.656 3.58 9 3.58z" fill="#EA4335"/></svg>
            Googleë¡œ ë¡œê·¸ì¸
        </button>
        <div class="login-error" id="loginError"></div>
    </div>
</div>

<!-- Admin Layout -->
<div class="admin-layout" id="adminLayout">
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-logo">
            <div class="icon">&#9992;</div>
            <span>KYDSA Admin</span>
        </div>
        <nav class="sidebar-nav">
            <div class="sidebar-section">OVERVIEW</div>
            <div class="sidebar-item active" data-panel="dashboard"><span class="icon">&#128202;</span> ëŒ€ì‹œë³´ë“œ</div>

            <div class="sidebar-section">ì½˜í…ì¸  ê´€ë¦¬</div>
            <div class="sidebar-item" data-panel="about"><span class="icon">&#127970;</span> í˜‘íšŒ ì†Œê°œ</div>
            <div class="sidebar-item" data-panel="chairman"><span class="icon">&#128100;</span> ì´ì‚¬ì¥ ì¸ì‚¬ë§</div>
            <div class="sidebar-item" data-panel="curriculum"><span class="icon">&#128218;</span> êµìœ¡ê³¼ì •</div>
            <div class="sidebar-item" data-panel="certs"><span class="icon">&#127891;</span> ìê²©ì¦ ê´€ë¦¬</div>
            <div class="sidebar-item" data-panel="competitions"><span class="icon">&#127942;</span> ëŒ€íšŒ ê´€ë¦¬</div>
            <div class="sidebar-item" data-panel="roadmap"><span class="icon">&#128197;</span> ë¡œë“œë§µ</div>
            <div class="sidebar-item" data-panel="partners"><span class="icon">&#129309;</span> íŒŒíŠ¸ë„ˆì‹­</div>

            <div class="sidebar-section">ìš´ì˜ ê´€ë¦¬</div>
            <div class="sidebar-item" data-panel="applications"><span class="icon">&#128203;</span> ìê²©ì¦ ì ‘ìˆ˜ <span class="badge" id="appBadge">3</span></div>
            <div class="sidebar-item" data-panel="members"><span class="icon">&#128101;</span> íšŒì› ê´€ë¦¬</div>
            <div class="sidebar-item" data-panel="notices"><span class="icon">&#128227;</span> ê³µì§€ì‚¬í•­</div>
            <div class="sidebar-item" data-panel="settings"><span class="icon">&#9881;</span> ì‚¬ì´íŠ¸ ì„¤ì •</div>
        </nav>
        <div class="sidebar-user">
            <div class="avatar">&#128100;</div>
            <div class="info">
                <div class="name" id="adminName">ê´€ë¦¬ì</div>
                <div class="role">Administrator</div>
            </div>
            <button class="logout-btn" onclick="doLogout()" title="ë¡œê·¸ì•„ì›ƒ">&#9211;</button>
        </div>
    </aside>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>

    <!-- Header -->
    <header class="admin-header">
        <div style="display:flex;align-items:center;gap:4px;">
            <button class="sidebar-toggle-btn" onclick="toggleSidebar()">&#9776;</button>
            <h2 id="panelTitle">ëŒ€ì‹œë³´ë“œ</h2>
        </div>
        <div class="header-actions" id="headerActions"></div>
    </header>

    <!-- Main Content -->
    <main class="admin-main">

        <!-- Dashboard -->
        <div class="panel active" id="panel-dashboard">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="label">ì´ íšŒì› ìˆ˜</div>
                    <div class="value" id="statMembers">0</div>
                    <div class="change up">&#9650; ì‹ ê·œ ê°€ì…</div>
                </div>
                <div class="stat-card">
                    <div class="label">ìê²©ì¦ ì ‘ìˆ˜ (ëŒ€ê¸°)</div>
                    <div class="value" id="statApps">0</div>
                    <div class="change" style="color:var(--orange);">&#9679; ìŠ¹ì¸ ëŒ€ê¸°ì¤‘</div>
                </div>
                <div class="stat-card">
                    <div class="label">ìê²©ì¦ ë°œê¸‰ ì™„ë£Œ</div>
                    <div class="value" id="statIssued">0</div>
                    <div class="change up">ëˆ„ì  ë°œê¸‰</div>
                </div>
                <div class="stat-card">
                    <div class="label">ê³µì§€ì‚¬í•­</div>
                    <div class="value" id="statNotices">0</div>
                    <div class="change" style="color:var(--blue);">ê²Œì‹œ ì¤‘</div>
                </div>
            </div>
            <div class="admin-card">
                <h3>&#128203; ìµœê·¼ ìê²©ì¦ ì ‘ìˆ˜ <span class="card-badge">ìµœê·¼ 5ê±´</span></h3>
                <table class="admin-table">
                    <thead><tr><th>ì´ë¦„</th><th>ìê²©ì¦</th><th>ì ‘ìˆ˜ì¼</th><th>ìƒíƒœ</th><th>ê´€ë¦¬</th></tr></thead>
                    <tbody id="recentApps">
                        <tr><td colspan="5"><div class="empty-state"><div class="icon">&#128203;</div><p>ì ‘ìˆ˜ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</p></div></td></tr>
                    </tbody>
                </table>
            </div>
            <div class="admin-card">
                <h3>&#128227; ìµœê·¼ ê³µì§€ì‚¬í•­ <span class="card-badge">ìµœê·¼ 5ê±´</span></h3>
                <div id="recentNotices">
                    <div class="empty-state"><div class="icon">&#128227;</div><p>ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</p></div>
                </div>
            </div>
        </div>

        <!-- í˜‘íšŒ ì†Œê°œ -->
        <div class="panel" id="panel-about">
            <div class="admin-card">
                <h3>&#128161; VISION</h3>
                <div class="form-group">
                    <label>ë¹„ì „ ë‚´ìš©</label>
                    <textarea id="aboutVision">ì²­ì†Œë…„ ë“œë¡  êµìœ¡ ë° ìŠ¤í¬ì¸  ë¬¸í™”ë¥¼ ì„ ë„í•˜ì—¬,
ë¯¸ë˜ ì‚¬íšŒì˜ ì£¼ì—­ì´ ë  ì¸ì¬ë“¤ì—ê²Œ ê¿ˆê³¼ í¬ë§ì„ ì œì‹œí•©ë‹ˆë‹¤.</textarea>
                </div>
            </div>
            <div class="admin-card">
                <h3>&#127987; MISSION</h3>
                <div class="form-group">
                    <label>ë¯¸ì…˜ ë‚´ìš©</label>
                    <textarea id="aboutMission">ì°½ì˜ì  ë“œë¡  ì¸ì¬ ì–‘ì„± ë° ê±´ì „í•œ ë“œë¡  ìŠ¤í¬ì¸  ë¬¸í™” í™•ì‚°ì„ í†µí•´ êµ­ê°€ ë“œë¡  ì‚°ì—… ë°œì „ê³¼ ì²­ì†Œë…„ì˜ ê±´ê°•í•œ ì„±ì¥ì— ê¸°ì—¬í•©ë‹ˆë‹¤.</textarea>
                </div>
            </div>
            <div class="admin-card">
                <h3>&#127919; ì„¤ë¦½ ëª©ì </h3>
                <div class="form-group">
                    <label>ì„¤ë¦½ ëª©ì  ë‚´ìš©</label>
                    <textarea id="aboutPurpose">4ì°¨ ì‚°ì—…í˜ëª… ì‹œëŒ€ì˜ ë¯¸ë˜ í•µì‹¬ ì—­ëŸ‰(STEAM) í•¨ì–‘ê³¼
ëˆ„êµ¬ë‚˜ ì¦ê¸¸ ìˆ˜ ìˆëŠ” ì•ˆì „í•˜ê³  ì²´ê³„ì ì¸ ë“œë¡  ìŠ¤í¬ì¸  ìƒíƒœê³„ë¥¼ ì¡°ì„±í•©ë‹ˆë‹¤.</textarea>
                </div>
            </div>
            <div class="admin-card">
                <h3>&#127775; í•µì‹¬ ê°€ì¹˜</h3>
                <div class="form-row three">
                    <div class="form-group"><label>ê°€ì¹˜ 1</label><input id="value1" value="ì•ˆì „ (Safety)"></div>
                    <div class="form-group"><label>ê°€ì¹˜ 2</label><input id="value2" value="ê³µì •ì„± (Fairness)"></div>
                    <div class="form-group"><label>ê°€ì¹˜ 3</label><input id="value3" value="ì°½ì˜ì„± (Creativity)"></div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label>ê°€ì¹˜ 4</label><input id="value4" value="í˜‘ì—… (Collaboration)"></div>
                    <div class="form-group"><label>ê°€ì¹˜ 5</label><input id="value5" value="ê¸€ë¡œë²Œ (Global)"></div>
                </div>
            </div>
        </div>

        <!-- ì´ì‚¬ì¥ ì¸ì‚¬ë§ -->
        <div class="panel" id="panel-chairman">
            <div class="admin-card">
                <h3>&#128100; ì´ì‚¬ì¥ ì •ë³´</h3>
                <div class="form-row">
                    <div class="form-group"><label>ì´ì‚¬ì¥ ì„±í•¨</label><input id="chairName" value="ì´ì‚¬ì¥"></div>
                    <div class="form-group"><label>ì˜ë¬¸ ì§í•¨</label><input id="chairTitleEn" value="Chairman of KYDSA"></div>
                </div>
                <div class="form-group">
                    <label>í”„ë¡œí•„ ì´ë¯¸ì§€ URL (ì„ íƒ)</label>
                    <input id="chairPhoto" placeholder="https://example.com/photo.jpg">
                </div>
            </div>
            <div class="admin-card">
                <h3>&#9997; ì¸ì‚¬ë§ ë‚´ìš©</h3>
                <div class="form-group">
                    <label>ì¸ì‚¬ë§ ë³¸ë¬¸</label>
                    <textarea id="chairGreeting" style="min-height:200px;">ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ.
ì²­ì†Œë…„ë“œë¡ ìŠ¤í¬ì¸ í˜‘íšŒë¥¼ ì°¾ì•„ì£¼ì‹  ì—¬ëŸ¬ë¶„ì„ ì§„ì‹¬ìœ¼ë¡œ í™˜ì˜í•©ë‹ˆë‹¤.

ìš°ë¦¬ í˜‘íšŒëŠ” 4ì°¨ ì‚°ì—…í˜ëª… ì‹œëŒ€ë¥¼ ì´ëŒì–´ê°ˆ ì²­ì†Œë…„ë“¤ì—ê²Œ ë“œë¡ ì´ë¼ëŠ” ì²¨ë‹¨ ê¸°ìˆ ì„ í†µí•´ ê¿ˆê³¼ ë„ì „ì˜ ê¸°íšŒë¥¼ ì œê³µí•˜ê³ ì ì„¤ë¦½ë˜ì—ˆìŠµë‹ˆë‹¤.
ë‹¨ìˆœí•œ ê¸°ìˆ  êµìœ¡ì„ ë„˜ì–´, ë“œë¡  ìŠ¤í¬ì¸ ë¥¼ í†µí•œ íŒ€ì›Œí¬, ì°½ì˜ì  ì‚¬ê³ , ì•ˆì „ ì˜ì‹ì„ í•¨ì–‘í•˜ì—¬ ë¯¸ë˜ ì‚¬íšŒì˜ ê±´ê°•í•œ ì¸ì¬ë¥¼ ì–‘ì„±í•˜ëŠ” ê²ƒì´ ìš°ë¦¬ì˜ ì‚¬ëª…ì…ë‹ˆë‹¤.

5ê°œ ë¯¼ê°„ìê²©ì¦ í”„ë¡œê·¸ë¨ê³¼ ì²´ê³„ì ì¸ êµìœ¡ê³¼ì •, ê·¸ë¦¬ê³  êµ­ë‚´ì™¸ ëŒ€íšŒë¥¼ í†µí•´ ì²­ì†Œë…„ ì—¬ëŸ¬ë¶„ì´ í•˜ëŠ˜ì„ í–¥í•œ ë¬´í•œí•œ ê°€ëŠ¥ì„±ì„ í¼ì¹  ìˆ˜ ìˆë„ë¡ ìµœì„ ì„ ë‹¤í•˜ê² ìŠµë‹ˆë‹¤.</textarea>
                </div>
                <div class="form-group">
                    <label>ëŒ€í‘œ ì¸ìš©ë¬¸</label>
                    <input id="chairQuote" value="í•˜ëŠ˜ì„ ë‚˜ëŠ” ë“œë¡ ì²˜ëŸ¼, ìš°ë¦¬ ì²­ì†Œë…„ë“¤ì˜ ê¿ˆë„ í•œê³„ ì—†ì´ ë†’ì´ ë‚ ì•„ì˜¤ë¥´ê¸¸ ë°”ëë‹ˆë‹¤.">
                </div>
            </div>
        </div>

        <!-- êµìœ¡ê³¼ì • -->
        <div class="panel" id="panel-curriculum">
            <div class="tab-bar">
                <button class="tab-btn active" data-tab="cur-levels">êµìœ¡ ë ˆë²¨</button>
                <button class="tab-btn" data-tab="cur-theory">ì´ë¡  êµìœ¡</button>
                <button class="tab-btn" data-tab="cur-practice">ì‹¤ìŠµ ê³¼ì •</button>
                <button class="tab-btn" data-tab="cur-eval">í‰ê°€ ë°©ë²•</button>
            </div>
            <div class="tab-content active" id="tab-cur-levels">
                <div class="admin-card">
                    <h3>&#9992; ì´ˆê¸‰ (ì´ˆë“± ~ ì¤‘ë“±)</h3>
                    <div class="form-row">
                        <div class="form-group"><label>ê¶Œì¥ ì°¨ì‹œ</label><input id="curBeginHours" value="12~16"></div>
                        <div class="form-group"><label>ëŒ€ìƒ</label><input id="curBeginTarget" value="ì´ˆë“± ~ ì¤‘ë“±"></div>
                    </div>
                    <div class="form-group"><label>ì£¼ìš” êµìœ¡ ë‚´ìš© (ì‰¼í‘œë¡œ êµ¬ë¶„)</label><input id="curBeginTopics" value="ê¸°ì´ˆ ì•ˆì „, ë“œë¡  êµ¬ì¡°, í˜¸ë²„ë§, ë¯¸ë‹ˆë“œë¡  ì½”ë”©, ê¸°ì´ˆ ê·œì •"></div>
                </div>
                <div class="admin-card">
                    <h3>&#128230; ì¤‘ê¸‰ (ì¤‘ë“± ~ ê³ ë“±)</h3>
                    <div class="form-row">
                        <div class="form-group"><label>ê¶Œì¥ ì°¨ì‹œ</label><input id="curMidHours" value="16~20"></div>
                        <div class="form-group"><label>ëŒ€ìƒ</label><input id="curMidTarget" value="ì¤‘ë“± ~ ê³ ë“±"></div>
                    </div>
                    <div class="form-group"><label>ì£¼ìš” êµìœ¡ ë‚´ìš© (ì‰¼í‘œë¡œ êµ¬ë¶„)</label><input id="curMidTopics" value="ì„¼ì„œ í™œìš©, ìˆ˜ë™/ììœ¨ ì „í™˜, FPV ì…ë¬¸, íŒ€ í”„ë¡œì íŠ¸"></div>
                </div>
                <div class="admin-card">
                    <h3>&#127942; ê³ ê¸‰ (ê³ ë“± / ë¦¬ë”)</h3>
                    <div class="form-row">
                        <div class="form-group"><label>ê¶Œì¥ ì°¨ì‹œ</label><input id="curAdvHours" value="20~24"></div>
                        <div class="form-group"><label>ëŒ€ìƒ</label><input id="curAdvTarget" value="ê³ ë“± / ë¦¬ë”"></div>
                    </div>
                    <div class="form-group"><label>ì£¼ìš” êµìœ¡ ë‚´ìš© (ì‰¼í‘œë¡œ êµ¬ë¶„)</label><input id="curAdvTopics" value="ë ˆì´ì‹±/ì¶•êµ¬ ì „ìˆ , ììœ¨ì£¼í–‰ ì…ë¬¸, IoT ìœµí•©, ìº¡ìŠ¤í†¤"></div>
                </div>
                <div class="admin-card">
                    <h3>&#128200; ìˆ˜ì—… ìš´ì˜ ë¹„ìœ¨</h3>
                    <div class="form-row three">
                        <div class="form-group"><label>ì‹¤ìŠµ ë¹„ìœ¨ (%)</label><input type="number" id="curPracticeRatio" value="60"></div>
                        <div class="form-group"><label>ì´ë¡  ë¹„ìœ¨ (%)</label><input type="number" id="curTheoryRatio" value="30"></div>
                        <div class="form-group"><label>í‰ê°€ ë¹„ìœ¨ (%)</label><input type="number" id="curEvalRatio" value="10"></div>
                    </div>
                </div>
            </div>
            <div class="tab-content" id="tab-cur-theory">
                <div class="admin-card">
                    <h3>&#128214; ì´ë¡  êµìœ¡ í•­ëª©</h3>
                    <div class="form-group"><label>í•­ê³µë²•/ì•ˆì „</label><input id="theoryLaw" value="ë“œë¡  ì¡°ì¢…ì ì¤€ìˆ˜ì‚¬í•­ ë° ê³µì—­ ì´í•´"></div>
                    <div class="form-group"><label>í•­ê³µì—­í•™</label><input id="theoryAero" value="ë¹„í–‰ ì›ë¦¬ ë° ì–‘ë ¥ ë°œìƒ ë©”ì»¤ë‹ˆì¦˜"></div>
                    <div class="form-group"><label>ì „ì/í†µì‹  ê¸°ì´ˆ</label><input id="theoryElec" value="ë°°í„°ë¦¬ ê´€ë¦¬, ì†¡ìˆ˜ì‹  ì›ë¦¬ ì´í•´"></div>
                </div>
            </div>
            <div class="tab-content" id="tab-cur-practice">
                <div class="admin-card">
                    <h3>&#127918; ì‹¤ìŠµ ê³¼ì • í•­ëª©</h3>
                    <div class="form-row">
                        <div class="form-group"><label>ì¡°ì¢… ì‹¤ê¸°</label><input id="pracFlight" value="í˜¸ë²„ë§, íŒ¨í„´ë¹„í–‰, ì¥ì• ë¬¼ í†µê³¼"></div>
                        <div class="form-group"><label>íŠœë‹ / ì •ë¹„</label><input id="pracTuning" value="ê¸°ì²´ ì¡°ë¦½, ì„¼ì„œ êµì •, ìˆ˜ë¦¬"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>ì‹œë®¬ë ˆì´í„°</label><input id="pracSim" value="ê°€ìƒ í™˜ê²½ ë¹„í–‰ ë° ë¹„ìƒìƒí™© ëŒ€ì²˜"></div>
                        <div class="form-group"><label>íŒ€ í”„ë¡œì íŠ¸</label><input id="pracTeam" value="ë¯¸ì…˜ ìˆ˜í–‰, ì˜ìƒ ì´¬ì˜, ê²½ê¸° ì°¸ì—¬"></div>
                    </div>
                </div>
            </div>
            <div class="tab-content" id="tab-cur-eval">
                <div class="admin-card">
                    <h3>&#127775; í‰ê°€ ë°©ë²•</h3>
                    <div class="form-group"><label>í¬íŠ¸í´ë¦¬ì˜¤</label><input id="evalPortfolio" value="ìˆ˜ì—… ê²°ê³¼ë¬¼ ë° ê¸°ë¡"></div>
                    <div class="form-group"><label>ì‹¤ê¸° í‰ê°€</label><input id="evalPractical" value="ì½”ìŠ¤ ì£¼í–‰ ë° ì •ë°€ ì¡°ì¢…"></div>
                    <div class="form-group"><label>ëŒ€íšŒ ì„±ê³¼</label><input id="evalContest" value="êµë‚´ì™¸ ëŒ€íšŒ ì°¸ì—¬ ì‹¤ì "></div>
                </div>
            </div>
        </div>

        <!-- ìê²©ì¦ ê´€ë¦¬ -->
        <div class="panel" id="panel-certs">
            <div class="tab-bar">
                <button class="tab-btn active" data-tab="cert-ai">AIììœ¨ì£¼í–‰ìš´ì „ì§€ë„ì‚¬</button>
                <button class="tab-btn" data-tab="cert-racing">ë“œë¡ ë ˆì´ì‹±ì§€ë„ì‚¬</button>
                <button class="tab-btn" data-tab="cert-soccer">ë“œë¡ ì¶•êµ¬ì§€ë„ì‚¬</button>
                <button class="tab-btn" data-tab="cert-flight">ë“œë¡ ë¹„í–‰ì§€ë„ì‚¬</button>
                <button class="tab-btn" data-tab="cert-iot">IoTìœµí•©ë©”ì´ì»¤ì§€ë„ì‚¬</button>
            </div>
            <div class="tab-content active" id="tab-cert-ai">
                <div class="admin-card"><h3>&#129504; AIììœ¨ì£¼í–‰ìš´ì „ì§€ë„ì‚¬ <span class="card-badge">No. 2019-005889</span></h3>
                    <div class="form-group"><label>ë“±ë¡ë²ˆí˜¸</label><input value="2019-005889"></div>
                    <div class="form-group"><label>ìê²© ëª©ì </label><textarea>AI ë° ì„¼ì„œ ìœµí•© ê¸°ìˆ ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ììœ¨ì£¼í–‰ ë“œë¡  êµìœ¡ ë° í”„ë¡œì íŠ¸ ì§€ë„ ì „ë¬¸ê°€ë¥¼ ì–‘ì„±í•©ë‹ˆë‹¤.</textarea></div>
                    <div class="form-group"><label>í•µì‹¬ ì—­ëŸ‰ íƒœê·¸ (ì‰¼í‘œ êµ¬ë¶„)</label><input value="#ì¸ê³µì§€ëŠ¥, #ì„¼ì„œìœµí•©, #ì•Œê³ ë¦¬ì¦˜, #ì½”ë”©êµìœ¡"></div>
                    <div class="form-group"><label>ì£¼ìš” êµìœ¡ ë‚´ìš© (ì‰¼í‘œ êµ¬ë¶„)</label><input value="ì„¼ì„œ ìœµí•© ê¸°ìˆ , ì»´í“¨í„° ë¹„ì „, ROS/ì‹œë®¬ë ˆì´í„°, ììœ¨ì£¼í–‰ ì•Œê³ ë¦¬ì¦˜, Python í”„ë¡œê·¸ë˜ë°, AI ìœ¤ë¦¬ ë° ë²•ê·œ"></div>
                    <div class="form-group"><label>í‰ê°€ ìš”ê±´ (ì¤„ë°”ê¿ˆ êµ¬ë¶„)</label><textarea style="min-height:80px;">ì´ë¡  í‰ê°€ (ë“œë¡  ì œì–´ ë° AI ê¸°ì´ˆ)
ì‹¤ê¸° í‰ê°€ (ììœ¨ë¹„í–‰ ë¯¸ì…˜ ìˆ˜í–‰)
ìˆ˜ì—… ì„¤ê³„ í¬íŠ¸í´ë¦¬ì˜¤ ì œì¶œ</textarea></div>
                    <div class="form-group"><label>ì·¨ë“ í›„ ì§„ë¡œ (ì¤„ë°”ê¿ˆ êµ¬ë¶„)</label><textarea style="min-height:80px;">ììœ¨ì£¼í–‰ ë“œë¡  ì „ë¬¸ êµìœ¡ê°•ì‚¬
ë©”ì´ì»¤ìŠ¤í˜ì´ìŠ¤ ê¸°ìˆ  ì½”ì¹˜
AI ë“œë¡  ì—°êµ¬ì†Œ ë³´ì¡° ì—°êµ¬ì›
í•™êµ ë° ì²­ì†Œë…„ ê¸°ê´€ ë™ì•„ë¦¬ ì§€ë„êµì‚¬</textarea></div>
                </div>
            </div>
            <div class="tab-content" id="tab-cert-racing">
                <div class="admin-card"><h3>&#127937; ë“œë¡ ë ˆì´ì‹±ì§€ë„ì‚¬ <span class="card-badge">No. 2019-005285</span></h3>
                    <div class="form-group"><label>ë“±ë¡ë²ˆí˜¸</label><input value="2019-005285"></div>
                    <div class="form-group"><label>ìê²© ëª©ì </label><textarea>FPV ë ˆì´ì‹± ì¢…ëª©ì˜ í›ˆë ¨, ì „ëµ ìˆ˜ë¦½ ë° ì•ˆì „í•œ ëŒ€íšŒ ìš´ì˜ì„ ì±…ì„ì§€ëŠ” ì „ë¬¸ê°€ë¥¼ ì–‘ì„±í•©ë‹ˆë‹¤.</textarea></div>
                    <div class="form-group"><label>í•µì‹¬ ì—­ëŸ‰ íƒœê·¸</label><input value="#FPVë ˆì´ì‹±, #ê³ ì†ë¹„í–‰, #ì½”ìŠ¤ì„¤ê³„, #ëŒ€íšŒìš´ì˜"></div>
                    <div class="form-group"><label>ì£¼ìš” êµìœ¡ ë‚´ìš©</label><input value="FPV ê¸°ì´ˆ ë° ë¹„í–‰, ê¸°ì²´ íŠœë‹ ë° ì •ë¹„, ë ˆì´ì‹± ì½”ìŠ¤ ì„¤ê³„, ë ˆì´ì‹± ì£¼í–‰ ì „ëµ, ì‹¬íŒ ë° ê²½ê¸° ê·œì •, ëŒ€íšŒ ì•ˆì „ ìš´ì˜"></div>
                    <div class="form-group"><label>í‰ê°€ ìš”ê±´</label><textarea style="min-height:80px;">ê¸°ì²´ ì„¸íŒ… ë° íŠœë‹ ì‹¤ìŠµ í‰ê°€
íƒ€ì„ì–´íƒ ì½”ìŠ¤ ë¹„í–‰ ì‹¤ê¸°
ë ˆì´ì‹± ë£°ë¶ ë° ê·œì • ì´í•´ë„</textarea></div>
                    <div class="form-group"><label>ì·¨ë“ í›„ ì§„ë¡œ</label><textarea style="min-height:80px;">ë“œë¡  ë ˆì´ì‹± íŒ€ ì½”ì¹˜ ë° ê°ë…
ë ˆì´ì‹± ëŒ€íšŒ ìš´ì˜ ì „ë¬¸ ìŠ¤íƒœí”„
ë ˆì´ì‹± íŠ¸ë™ ë””ìì´ë„ˆ
FPV ì¥ë¹„ ê¸°ìˆ ì§€ì› ì „ë¬¸ê°€</textarea></div>
                </div>
            </div>
            <div class="tab-content" id="tab-cert-soccer">
                <div class="admin-card"><h3>&#9917; ë“œë¡ ì¶•êµ¬ì§€ë„ì‚¬ <span class="card-badge">No. 2019-005284</span></h3>
                    <div class="form-group"><label>ë“±ë¡ë²ˆí˜¸</label><input value="2019-005284"></div>
                    <div class="form-group"><label>ìê²© ëª©ì </label><textarea>ë“œë¡ ì¶•êµ¬ íŒ€ ì½”ì¹­ê³¼ ì „ë¬¸ì ì¸ ë¦¬ê·¸ ìš´ì˜ì„ ìœ„í•œ ì§€ë„ìë¥¼ ì–‘ì„±í•˜ì—¬ ê±´ì „í•œ ë“œë¡  ìŠ¤í¬ì¸  ë¬¸í™”ë¥¼ í™•ì‚°í•©ë‹ˆë‹¤.</textarea></div>
                    <div class="form-group"><label>í•µì‹¬ ì—­ëŸ‰ íƒœê·¸</label><input value="#ë“œë¡ ì¶•êµ¬, #íŒ€ì „ìˆ , #ë¦¬ê·¸ìš´ì˜, #ì‹¬íŒë²•"></div>
                    <div class="form-group"><label>ì£¼ìš” êµìœ¡ ë‚´ìš©</label><input value="ë“œë¡ ì¶•êµ¬ ê·œì •, íŒ€ ì „ìˆ  ë° ì „ëµ, í›ˆë ¨ í”„ë¡œê·¸ë¨ ì„¤ê³„, ì‹¬íŒë²• ë° íŒì •, ì•ˆì „ ë° ê²½ê¸°ìš´ì˜, íŒ€ì›Œí¬ ë° ë¦¬ë”ì‹­"></div>
                    <div class="form-group"><label>í‰ê°€ ìš”ê±´</label><textarea style="min-height:80px;">ì „ìˆ  ìš´ìš© ê¸°íšì„œ ì‘ì„±
ì‹¬íŒ íŒì • ì‹¤ìŠµ ë° êµ¬ìˆ  í‰ê°€
íŒ€ í›ˆë ¨ ì§€ë„ ì‹œì—° í‰ê°€</textarea></div>
                    <div class="form-group"><label>ì·¨ë“ í›„ ì§„ë¡œ</label><textarea style="min-height:80px;">í•™êµ ë° ì§€ìì²´ ë“œë¡ ì¶•êµ¬ë‹¨ ì½”ì¹˜
ë“œë¡ ì¶•êµ¬í˜‘íšŒ ê³µì¸ ì‹¬íŒ
ë“œë¡  ìŠ¤í¬ì¸  ë¦¬ê·¸ í”„ë¡œê·¸ë¨ ë§¤ë‹ˆì €
ìœ ì†Œë…„ ë“œë¡ ì¶•êµ¬ êµì‹¤ ì „ì„ê°•ì‚¬</textarea></div>
                </div>
            </div>
            <div class="tab-content" id="tab-cert-flight">
                <div class="admin-card"><h3>&#9992; ë“œë¡ ë¹„í–‰ì§€ë„ì‚¬ <span class="card-badge">No. 2019-003861</span></h3>
                    <div class="form-group"><label>ë“±ë¡ë²ˆí˜¸</label><input value="2019-003861"></div>
                    <div class="form-group"><label>ìê²© ëª©ì </label><textarea>ë“œë¡  ë¹„í–‰ì˜ ê¸°ì´ˆ ì›ë¦¬ë¶€í„° ì¡°ì¢…, ì •ë¹„, ê·¸ë¦¬ê³  ì•ˆì „ ê´€ë¦¬ê¹Œì§€ ì „ ì˜ì—­ì„ ì•„ìš°ë¥´ëŠ” ì „ë¬¸ ì§€ë„ìë¥¼ ì–‘ì„±í•©ë‹ˆë‹¤.</textarea></div>
                    <div class="form-group"><label>í•µì‹¬ ì—­ëŸ‰ íƒœê·¸</label><input value="#í•­ê³µì—­í•™, #ë¹„í–‰ì¡°ì¢…, #ì•ˆì „ê´€ë¦¬, #ìœ ì§€ë³´ìˆ˜"></div>
                    <div class="form-group"><label>ì£¼ìš” êµìœ¡ ë‚´ìš©</label><input value="í•­ê³µì—­í•™ ê¸°ì´ˆ, ìˆ˜ë™/ììœ¨ ë¹„í–‰, ê¸°ìƒ ë° í•­ê³µê¸°ìƒ, ì´¬ì˜ ê¸°ì´ˆ ì´ë¡ , ê¸°ì²´ ì ê²€ ë° ì •ë¹„, ë¹„í–‰ê³„íš ìˆ˜ë¦½"></div>
                    <div class="form-group"><label>í‰ê°€ ìš”ê±´</label><textarea style="min-height:80px;">ë¹„í–‰ ì‹¤ê¸° í‰ê°€ (ì´ì°©ë¥™ ë° í˜¸ë²„ë§)
ì•ˆì „ ì ê²€ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„±
ë¹„í–‰ ì•ˆì „ê´€ë¦¬ê³„íšì„œ ì œì¶œ</textarea></div>
                    <div class="form-group"><label>ì·¨ë“ í›„ ì§„ë¡œ</label><textarea style="min-height:80px;">ë“œë¡  ì•ˆì „êµìœ¡ ì „ë¬¸ ê°•ì‚¬
í•­ê³µ ì´¬ì˜ ë³´ì¡° ë° í¸ì§‘ì
ì‚°ì—… í˜„ì¥ ë“œë¡  ì˜¤í¼ë ˆì´í„°
ì²­ì†Œë…„ ë“œë¡  ì²´í—˜êµì‹¤ ê°•ì‚¬</textarea></div>
                </div>
            </div>
            <div class="tab-content" id="tab-cert-iot">
                <div class="admin-card"><h3>&#128268; IoTìœµí•©ë©”ì´ì»¤ì§€ë„ì‚¬ <span class="card-badge">No. 2019-003018</span></h3>
                    <div class="form-group"><label>ë“±ë¡ë²ˆí˜¸</label><input value="2019-003018"></div>
                    <div class="form-group"><label>ìê²© ëª©ì </label><textarea>ë“œë¡ ê³¼ IoT ê¸°ìˆ ì„ ìœµí•©í•œ ë©”ì´ì»¤ êµìœ¡ ë° ì°½ì˜ì  í”„ë¡œì íŠ¸ ì§€ë„ ì „ë¬¸ê°€ë¥¼ ì–‘ì„±í•˜ì—¬ 4ì°¨ ì‚°ì—…í˜ëª… í•µì‹¬ ì—­ëŸ‰ì„ í•¨ì–‘í•©ë‹ˆë‹¤.</textarea></div>
                    <div class="form-group"><label>í•µì‹¬ ì—­ëŸ‰ íƒœê·¸</label><input value="#IoTìœµí•©, #ë©”ì´ì»¤êµìœ¡, #ì•„ë‘ì´ë…¸, #ì°½ì˜í”„ë¡œì íŠ¸"></div>
                    <div class="form-group"><label>ì£¼ìš” êµìœ¡ ë‚´ìš©</label><input value="ì•„ë‘ì´ë…¸/ë§ˆì´í¬ë¡œë¹„íŠ¸, ì„¼ì„œ & ì•¡ì¶”ì—ì´í„°, ë„¤íŠ¸ì›Œí¬/í´ë¼ìš°ë“œ, ë°ì´í„° ì‹œê°í™”, ë“œë¡ +IoT ìœµí•©, ìº¡ìŠ¤í†¤ í”„ë¡œì íŠ¸"></div>
                    <div class="form-group"><label>í‰ê°€ ìš”ê±´</label><textarea style="min-height:80px;">íšŒë¡œ êµ¬ì„± ë° ì½”ë”© ì‹¤ìŠµ í‰ê°€
ì°½ì˜ì  í”„ë¡œí† íƒ€ì… ì œì‘
ìœµí•© í”„ë¡œì íŠ¸ ê¸°íš ë° ë°œí‘œ</textarea></div>
                    <div class="form-group"><label>ì·¨ë“ í›„ ì§„ë¡œ</label><textarea style="min-height:80px;">ë©”ì´ì»¤ êµìœ¡ ì „ë¬¸ ì½”ì¹˜
SW ë° ì½”ë”© êµìœ¡ ê°•ì‚¬
STEAM í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €
ë°©ê³¼í›„ í•™êµ ê¸°ìˆ /ê³µí•™ ê°•ì‚¬</textarea></div>
                </div>
            </div>
        </div>

        <!-- ëŒ€íšŒ ê´€ë¦¬ -->
        <div class="panel" id="panel-competitions">
            <div class="admin-card">
                <h3>&#127937; ë“œë¡  ë ˆì´ì‹± ëŒ€íšŒ</h3>
                <div class="form-row">
                    <div class="form-group"><label>ì‹œì¦Œ</label><input value="ë´„ Â· ê°€ì„"></div>
                    <div class="form-group"><label>ëŒ€íšŒ í˜•ì‹</label><input value="ì§€ì—­ ì˜ˆì„  â†’ ê´‘ì—­ ë³¸ì„  â†’ ì „êµ­ ê²°ì„ "></div>
                </div>
            </div>
            <div class="admin-card">
                <h3>&#9917; ë“œë¡  ì¶•êµ¬ ë¦¬ê·¸</h3>
                <div class="form-row">
                    <div class="form-group"><label>í˜•ì‹</label><input value="í•™ê¸°ì œ ë¦¬ê·¸"></div>
                    <div class="form-group"><label>íŒ€ êµ¬ì„±</label><input value="5ì¸ 1íŒ€ (ìŠ¤íŠ¸ë¼ì´ì»¤ + ìˆ˜ë¹„)"></div>
                </div>
            </div>
            <div class="admin-card">
                <h3>&#129513; ì²­ì†Œë…„ ë“œë¡  ì±Œë¦°ì§€</h3>
                <div class="form-row">
                    <div class="form-group"><label>ìœ í˜•</label><input value="ë¯¸ì…˜ ìˆ˜í–‰í˜•"></div>
                    <div class="form-group"><label>ë¯¸ì…˜ ì¢…ë¥˜</label><input value="êµ¬ì¡° ë¯¸ì…˜, ì •ë°€ ì°©ë¥™, ì½”ë”© ë“œë¡ "></div>
                </div>
            </div>
        </div>

        <!-- ë¡œë“œë§µ -->
        <div class="panel" id="panel-roadmap">
            <div class="admin-card">
                <h3>Q1 - êµìœ¡ ê¸°ë°˜ ê°•í™” (1~3ì›”)</h3>
                <div class="form-group"><label>ì£¼ìš” ê³„íš (ì¤„ë°”ê¿ˆ êµ¬ë¶„)</label><textarea>êµìœ¡ í”„ë¡œê·¸ë¨ í™•ëŒ€ (ì§€ì—­ 20ê°œêµ)
ìê²©ì¦ ê³¼ì • ì •ê·œ ìš´ì˜ (ë¶„ê¸° 2ê¸°ìˆ˜)
ì»¤ë¦¬í˜ëŸ¼ ê³ ë„í™”</textarea></div>
            </div>
            <div class="admin-card">
                <h3>Q2 - ë„¤íŠ¸ì›Œí¬ í™•ì¥ (4~6ì›”)</h3>
                <div class="form-group"><label>ì£¼ìš” ê³„íš (ì¤„ë°”ê¿ˆ êµ¬ë¶„)</label><textarea>ì „êµ­ ì§€ë¶€ 5ê³³ ì„¤ë¦½ (ì§€ì—­ ê±°ì  í™•ë³´)
ë´„ ì‹œì¦Œ ë“œë¡  ëŒ€íšŒ ê°œìµœ
êµì› ì—°ìˆ˜ ë° ì„¸ë¯¸ë‚˜</textarea></div>
            </div>
            <div class="admin-card">
                <h3>Q3 - ê¸€ë¡œë²Œ & ìº í”„ (7~9ì›”)</h3>
                <div class="form-group"><label>ì£¼ìš” ê³„íš (ì¤„ë°”ê¿ˆ êµ¬ë¶„)</label><textarea>ì—¬ë¦„ ë“œë¡  ìº í”„ (2íšŒ ì§‘ì¤‘ ìš´ì˜)
êµ­ì œ ë“œë¡  ìŠ¤í¬ì¸  ëŒ€íšŒ ì°¸ê°€
í•´ì™¸ êµë¥˜ì „ ê°œìµœ</textarea></div>
            </div>
            <div class="admin-card">
                <h3>Q4 - ì„±ê³¼ & ë¹„ì „ (10~12ì›”)</h3>
                <div class="form-group"><label>ì£¼ìš” ê³„íš (ì¤„ë°”ê¿ˆ êµ¬ë¶„)</label><textarea>ì—°ë§ ì±”í”¼ì–¸ì‹­ (ì™•ì¤‘ì™•ì „)
ì°¨ë…„ë„ ê³„íš ìˆ˜ë¦½
ìš°ìˆ˜ ì§€ë„ì ì‹œìƒ</textarea></div>
            </div>
            <div class="admin-card">
                <h3>&#127760; KPI ëª©í‘œ</h3>
                <div class="form-row">
                    <div class="form-group"><label>ì—°ê°„ ìˆ˜ë£Œìƒ ìˆ˜</label><input value="1,000+"></div>
                    <div class="form-group"><label>ìê²©ì¦ ì·¨ë“ë¥ </label><input value="85%"></div>
                </div>
                <div class="form-row">
                    <div class="form-group"><label>ëŒ€íšŒ ì°¸ê°€íŒ€</label><input value="100+"></div>
                    <div class="form-group"><label>ì•ˆì „ì‚¬ê³ </label><input value="0 (Zero)"></div>
                </div>
            </div>
        </div>

        <!-- íŒŒíŠ¸ë„ˆì‹­ -->
        <div class="panel" id="panel-partners">
            <div class="admin-card">
                <h3>&#127891; êµìœ¡ íŒŒíŠ¸ë„ˆ</h3>
                <div class="form-group"><label>íŒŒíŠ¸ë„ˆ ëª©ë¡ (ì¤„ë°”ê¿ˆ êµ¬ë¶„)</label><textarea>ì´ˆÂ·ì¤‘Â·ê³ ë“±í•™êµ
ì‹œÂ·ë„ êµìœ¡ì²­
ê³¼í•™ê´€ / ìˆ˜ë ¨ê´€
ì§„ë¡œì²´í—˜ì„¼í„°</textarea></div>
            </div>
            <div class="admin-card">
                <h3>&#127981; ì‚°ì—… íŒŒíŠ¸ë„ˆ</h3>
                <div class="form-group"><label>íŒŒíŠ¸ë„ˆ ëª©ë¡ (ì¤„ë°”ê¿ˆ êµ¬ë¶„)</label><textarea>ë“œë¡  ì œì¡°ì‚¬ ë° ìœ í†µì‚¬
ë ˆì´ì‹± ì¥ë¹„ ì „ë¬¸ê¸°ì—…
ì‹œë®¬ë ˆì´í„° ê°œë°œì‚¬
ì†Œí”„íŠ¸ì›¨ì–´ ê¸°ì—…</textarea></div>
            </div>
            <div class="admin-card">
                <h3>&#127963; ê³µê³µ íŒŒíŠ¸ë„ˆ</h3>
                <div class="form-group"><label>íŒŒíŠ¸ë„ˆ ëª©ë¡ (ì¤„ë°”ê¿ˆ êµ¬ë¶„)</label><textarea>ì§€ë°©ìì¹˜ë‹¨ì²´ (ì§€ìì²´)
í•­ê³µì•ˆì „ê¸°ìˆ ì›
ì²­ì†Œë…„ í™œë™ ì§„í¥ì›
ê²½ì°°/ì†Œë°© ê´€ë ¨ ê¸°ê´€</textarea></div>
            </div>
            <div class="admin-card">
                <h3>&#127979; í•™ìˆ  íŒŒíŠ¸ë„ˆ</h3>
                <div class="form-group"><label>íŒŒíŠ¸ë„ˆ ëª©ë¡ (ì¤„ë°”ê¿ˆ êµ¬ë¶„)</label><textarea>ëŒ€í•™ í•­ê³µ/ë“œë¡  í•™ê³¼
ë“œë¡  ê¸°ìˆ  ì—°êµ¬ì†Œ
ë©”ì´ì»¤ìŠ¤í˜ì´ìŠ¤
STEAM êµìœ¡ í˜‘íšŒ</textarea></div>
            </div>
        </div>

        <!-- ìê²©ì¦ ì ‘ìˆ˜ ê´€ë¦¬ -->
        <div class="panel" id="panel-applications">
            <!-- CSV ì—…ë¡œë“œ -->
            <div class="admin-card" style="margin-bottom:20px;">
                <h3>&#128228; CSV ì¼ê´„ ì—…ë¡œë“œ</h3>
                <p style="font-size:13px;color:var(--text2);margin-bottom:16px;">CSV íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì—¬ ì ‘ìˆ˜ ë‚´ì—­ì„ ì¼ê´„ ë“±ë¡í•©ë‹ˆë‹¤.</p>
                <div id="csvDropZone" style="border:2px dashed var(--border);border-radius:10px;padding:24px;text-align:center;margin-bottom:16px;cursor:pointer;transition:border-color .2s;"
                    ondragover="event.preventDefault();this.style.borderColor='var(--blue)'"
                    ondragleave="this.style.borderColor='var(--border)'"
                    ondrop="event.preventDefault();this.style.borderColor='var(--border)';handleCSVDrop(event)">
                    <div style="font-size:32px;margin-bottom:8px;">&#128196;</div>
                    <p style="font-size:14px;margin-bottom:4px;">CSV íŒŒì¼ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ ì•„ë˜ ë²„íŠ¼ìœ¼ë¡œ ì„ íƒí•˜ì„¸ìš”</p>
                    <p style="font-size:12px;color:var(--text2);">í˜•ì‹: ì´ë¦„, ì—°ë½ì²˜, ì´ë©”ì¼, ìê²©ì¦, ë¹„ê³ , ìƒíƒœ</p>
                </div>
                <div style="display:flex;gap:10px;flex-wrap:wrap;">
                    <label class="header-btn primary" style="cursor:pointer;display:inline-flex;align-items:center;gap:6px;">
                        &#128193; CSV íŒŒì¼ ì„ íƒ
                        <input type="file" id="csvFileInput" accept=".csv" style="display:none;" onchange="uploadCSV(this)">
                    </label>
                    <button class="header-btn" onclick="downloadCSVTemplate()">&#128203; ì–‘ì‹ ë‹¤ìš´ë¡œë“œ</button>
                    <button class="header-btn" onclick="exportApplicationsCSV()">&#11015; ë°ì´í„° ë‚´ë³´ë‚´ê¸°</button>
                </div>
            </div>
            <div class="search-bar">
                <input type="text" id="appSearch" placeholder="ì´ë¦„ ë˜ëŠ” ìê²©ì¦ìœ¼ë¡œ ê²€ìƒ‰...">
                <select id="appFilter">
                    <option value="all">ì „ì²´ ìƒíƒœ</option>
                    <option value="pending">ëŒ€ê¸°ì¤‘</option>
                    <option value="approved">ìŠ¹ì¸</option>
                    <option value="rejected">ë°˜ë ¤</option>
                </select>
            </div>
            <div class="admin-card">
                <h3>&#128203; ìê²©ì¦ ì ‘ìˆ˜ ëª©ë¡ <span class="card-badge" id="appCount">0ê±´</span></h3>
                <table class="admin-table">
                    <thead><tr><th>ì´ë¦„</th><th>ì—°ë½ì²˜</th><th>ì´ë©”ì¼</th><th>ìê²©ì¦</th><th>ì ‘ìˆ˜ì¼</th><th>ìƒíƒœ</th><th>ë¹„ê³ </th><th>ê´€ë¦¬</th></tr></thead>
                    <tbody id="appTableBody">
                        <tr><td colspan="8"><div class="empty-state"><div class="icon">&#128203;</div><p>ì ‘ìˆ˜ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</p></div></td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- íšŒì› ê´€ë¦¬ -->
        <div class="panel" id="panel-members">
            <div class="search-bar">
                <input type="text" id="memberSearch" placeholder="ì´ë¦„ ë˜ëŠ” ì´ë©”ì¼ë¡œ ê²€ìƒ‰...">
                <select id="memberFilter">
                    <option value="all">ì „ì²´</option>
                    <option value="active">í™œì„±</option>
                    <option value="inactive">ë¹„í™œì„±</option>
                </select>
            </div>
            <div class="admin-card">
                <h3>&#128101; íšŒì› ëª©ë¡ <span class="card-badge" id="memberCount">0ëª…</span></h3>
                <table class="admin-table">
                    <thead><tr><th>ì´ë¦„</th><th>ì´ë©”ì¼</th><th>ì—°ë½ì²˜</th><th>ê°€ì…ì¼</th><th>ìê²©ì¦</th><th>ìê²©ì¦ë²ˆí˜¸</th><th>ìƒíƒœ</th><th>ê´€ë¦¬</th></tr></thead>
                    <tbody id="memberTableBody">
                        <tr><td colspan="8"><div class="empty-state"><div class="icon">&#128101;</div><p>ë“±ë¡ëœ íšŒì›ì´ ì—†ìŠµë‹ˆë‹¤.</p></div></td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ê³µì§€ì‚¬í•­ -->
        <div class="panel" id="panel-notices">
            <div class="admin-card">
                <h3>&#128227; ê³µì§€ì‚¬í•­ ëª©ë¡ <span class="card-badge" id="noticeCount">0ê±´</span></h3>
                <div id="noticeList">
                    <div class="empty-state"><div class="icon">&#128227;</div><p>ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</p></div>
                </div>
            </div>
        </div>

        <!-- ì‚¬ì´íŠ¸ ì„¤ì • -->
        <div class="panel" id="panel-settings">
            <div class="admin-card">
                <h3>&#128274; ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</h3>
                <p style="font-size:13px;color:var(--text2);margin-bottom:20px;">í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•œ í›„ ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <div class="form-group">
                    <label>í˜„ì¬ ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="currentPassword" placeholder="í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" autocomplete="current-password">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>ìƒˆ ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="newPassword" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸ (6ì ì´ìƒ)" autocomplete="new-password">
                    </div>
                    <div class="form-group">
                        <label>ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                        <input type="password" id="confirmPassword" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸ ì¬ì…ë ¥" autocomplete="new-password">
                    </div>
                </div>
                <button class="header-btn primary" onclick="changeAdminPassword()" style="margin-top:8px;">ğŸ” ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</button>
                <div id="pwChangeMsg" style="margin-top:12px;font-size:13px;font-weight:600;display:none;"></div>
            </div>
            <div class="admin-card">
                <h3>&#9881; ê¸°ë³¸ ì„¤ì •</h3>
                <div class="form-group" style="display:flex;align-items:flex-end;gap:12px;">
                    <div style="flex:1;"><label>ì‚¬ì´íŠ¸ ì œëª©</label><input id="siteTitle" value=""></div>
                    <label style="display:flex;align-items:center;gap:6px;font-size:13px;white-space:nowrap;margin-bottom:2px;cursor:pointer;">
                        <input type="checkbox" id="hideSiteTitle" checked> ë©”ì¸ ë¯¸í‘œì‹œ
                    </label>
                </div>
                <div class="form-group" style="display:flex;align-items:flex-end;gap:12px;">
                    <div style="flex:1;"><label>ì˜ë¬¸ ì œëª©</label><input id="siteTitleEn" value=""></div>
                    <label style="display:flex;align-items:center;gap:6px;font-size:13px;white-space:nowrap;margin-bottom:2px;cursor:pointer;">
                        <input type="checkbox" id="hideSiteTitleEn" checked> ë©”ì¸ ë¯¸í‘œì‹œ
                    </label>
                </div>
                <div class="form-group"><label>ìŠ¬ë¡œê±´</label><input id="siteSlogan" value="ì²­ì†Œë…„ ë“œë¡  êµìœ¡ ë° ìŠ¤í¬ì¸  ë¬¸í™” ì„ ë„"></div>
            </div>
            <div class="admin-card">
                <h3>&#128272; Firebase ì„¤ì •</h3>
                <div class="form-group"><label>í”„ë¡œì íŠ¸ ID</label><input id="fbProjectId" value="drone"></div>
                <div class="form-group"><label>API Key</label><input id="fbApiKey" placeholder="Firebase API Key ì…ë ¥"></div>
                <div class="form-group"><label>Auth Domain</label><input id="fbAuthDomain" placeholder="drone.firebaseapp.com"></div>
                <p style="font-size:12px;color:var(--text2);margin-top:8px;">* Firebase Consoleì—ì„œ í”„ë¡œì íŠ¸ ì„¤ì • > ì¼ë°˜ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
            <div class="admin-card">
                <h3>&#128231; ì—°ë½ì²˜ ì •ë³´</h3>
                <div class="form-row">
                    <div class="form-group"><label>ì´ë©”ì¼</label><input id="contactEmail" placeholder="info@kydsa.or.kr"></div>
                    <div class="form-group"><label>ì „í™”ë²ˆí˜¸</label><input id="contactPhone" placeholder="02-xxxx-xxxx"></div>
                </div>
                <div class="form-group"><label>ì£¼ì†Œ</label><input id="contactAddress" placeholder="ì„œìš¸íŠ¹ë³„ì‹œ ..."></div>
            </div>
            <div class="admin-card">
                <h3>&#127974; ì…ê¸ˆ ê³„ì¢Œ ì •ë³´</h3>
                <div class="form-row three">
                    <div class="form-group"><label>ì€í–‰ëª…</label><input id="bankName" value="êµ­ë¯¼ì€í–‰"></div>
                    <div class="form-group"><label>ê³„ì¢Œë²ˆí˜¸</label><input id="bankAccount" value="532001-01-307280"></div>
                    <div class="form-group"><label>ì˜ˆê¸ˆì£¼</label><input id="bankHolder" value="ì²­ì†Œë…„ë“œë¡ ìŠ¤í¬ì¸ í˜‘íšŒ"></div>
                </div>
                <p style="font-size:12px;color:var(--text2);margin-top:8px;">* ìê²©ì¦ ì ‘ìˆ˜ë¹„ ì…ê¸ˆ ì•ˆë‚´ì— í‘œì‹œë˜ëŠ” ê³„ì¢Œ ì •ë³´ì…ë‹ˆë‹¤.</p>
            </div>
        </div>

    </main>
</div>

<!-- New Notice Modal -->
<div class="modal-overlay" id="noticeModal">
    <div class="modal">
        <h3>&#128227; ê³µì§€ì‚¬í•­ ì‘ì„±</h3>
        <div class="form-group">
            <label>ë¶„ë¥˜</label>
            <select id="noticeType">
                <option value="notice">ê³µì§€</option>
                <option value="event">ì´ë²¤íŠ¸</option>
                <option value="urgent">ê¸´ê¸‰</option>
            </select>
        </div>
        <div class="form-group"><label>ì œëª©</label><input id="noticeTitle" placeholder="ê³µì§€ì‚¬í•­ ì œëª©"></div>
        <div class="form-group"><label>ë‚´ìš©</label><textarea id="noticeContent" placeholder="ê³µì§€ì‚¬í•­ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea></div>
        <div class="modal-actions">
            <button class="header-btn" onclick="closeModal('noticeModal')">ì·¨ì†Œ</button>
            <button class="header-btn primary" onclick="saveNotice()">ì €ì¥</button>
        </div>
    </div>
</div>

<!-- New Application Modal -->
<div class="modal-overlay" id="appModal">
    <div class="modal">
        <h3>&#128203; ìê²©ì¦ ì ‘ìˆ˜ ë“±ë¡</h3>
        <div class="form-row">
            <div class="form-group"><label>ì´ë¦„</label><input id="appName" placeholder="ì‹ ì²­ì ì´ë¦„"></div>
            <div class="form-group"><label>ì—°ë½ì²˜</label><input id="appPhone" placeholder="010-xxxx-xxxx"></div>
        </div>
        <div class="form-group"><label>ì´ë©”ì¼</label><input id="appEmail" placeholder="ì´ë©”ì¼ ì£¼ì†Œ"></div>
        <div class="form-group">
            <label>ìê²©ì¦ ì„ íƒ</label>
            <select id="appCert">
                <option>AIììœ¨ì£¼í–‰ìš´ì „ì§€ë„ì‚¬</option>
                <option>ë“œë¡ ë ˆì´ì‹±ì§€ë„ì‚¬</option>
                <option>ë“œë¡ ì¶•êµ¬ì§€ë„ì‚¬</option>
                <option>ë“œë¡ ë¹„í–‰ì§€ë„ì‚¬</option>
                <option>IoTìœµí•©ë©”ì´ì»¤ì§€ë„ì‚¬</option>
            </select>
        </div>
        <div class="form-row">
            <div class="form-group"><label>ì ‘ìˆ˜ì¼</label><input type="date" id="appDate"></div>
            <div class="form-group"><label>ìƒíƒœ</label>
                <select id="appStatus">
                    <option value="pending">ëŒ€ê¸°ì¤‘</option>
                    <option value="approved">ìŠ¹ì¸</option>
                    <option value="rejected">ë°˜ë ¤</option>
                </select>
            </div>
        </div>
        <div class="form-group"><label>ë¹„ê³ </label><textarea id="appNote" placeholder="ì¶”ê°€ ì‚¬í•­..." style="min-height:80px;"></textarea></div>
        <!-- ê²°ì œ ê¸°ëŠ¥ ë¹„í™œì„±í™”ë¨
        <div style="background:var(--bg);border:1px solid var(--gold);border-radius:10px;padding:16px 20px;margin-bottom:16px;">
            <div style="font-size:13px;font-weight:700;color:var(--gold);margin-bottom:8px;">&#127974; ì ‘ìˆ˜ë¹„ ì…ê¸ˆ ì•ˆë‚´</div>
            <div style="font-size:14px;line-height:1.8;">
                <div><strong>ì€í–‰:</strong> êµ­ë¯¼ì€í–‰</div>
                <div><strong>ê³„ì¢Œ:</strong> 532001-01-307280</div>
                <div><strong>ì˜ˆê¸ˆì£¼:</strong> ì²­ì†Œë…„ë“œë¡ ìŠ¤í¬ì¸ í˜‘íšŒ</div>
            </div>
        </div>
        -->
        <!-- ê²°ì œ ê¸°ëŠ¥ ë¹„í™œì„±í™”ë¨
        <div class="form-group">
            <label>ì…ê¸ˆ í™•ì¸</label>
            <select id="appPayment">
                <option value="unpaid">ë¯¸ì…ê¸ˆ</option>
                <option value="paid">ì…ê¸ˆ ì™„ë£Œ</option>
            </select>
        </div>
        -->
        <div class="modal-actions">
            <button class="header-btn" onclick="closeModal('appModal')">ì·¨ì†Œ</button>
            <button class="header-btn primary" onclick="saveApplication()">ì ‘ìˆ˜ ë“±ë¡</button>
        </div>
    </div>
</div>

<!-- Member Modal -->
<div class="modal-overlay" id="memberModal">
    <div class="modal">
        <h3>&#128101; íšŒì› ë“±ë¡</h3>
        <div class="form-row">
            <div class="form-group"><label>ì´ë¦„</label><input id="memName" placeholder="íšŒì› ì´ë¦„"></div>
            <div class="form-group"><label>ì—°ë½ì²˜</label><input id="memPhone" placeholder="010-xxxx-xxxx"></div>
        </div>
        <div class="form-group"><label>ì´ë©”ì¼</label><input id="memEmail" placeholder="ì´ë©”ì¼ ì£¼ì†Œ"></div>
        <div class="form-group">
            <label>ë³´ìœ  ìê²©ì¦</label>
            <select id="memCert">
                <option value="">ì—†ìŒ</option>
                <option>AIììœ¨ì£¼í–‰ìš´ì „ì§€ë„ì‚¬</option>
                <option>ë“œë¡ ë ˆì´ì‹±ì§€ë„ì‚¬</option>
                <option>ë“œë¡ ì¶•êµ¬ì§€ë„ì‚¬</option>
                <option>ë“œë¡ ë¹„í–‰ì§€ë„ì‚¬</option>
                <option>IoTìœµí•©ë©”ì´ì»¤ì§€ë„ì‚¬</option>
            </select>
        </div>
        <div class="form-group"><label>ìê²©ì¦ë²ˆí˜¸</label><input id="memCertNo" placeholder="ìê²©ì¦ ë²ˆí˜¸ ì…ë ¥"></div>
        <div class="modal-actions">
            <button class="header-btn" onclick="closeModal('memberModal')">ì·¨ì†Œ</button>
            <button class="header-btn primary" onclick="saveMember()">ë“±ë¡</button>
        </div>
    </div>
</div>

<!-- Certificate Print Modal -->
<div class="modal-overlay" id="certPrintModal">
    <div class="modal" style="width:800px;max-width:95vw;padding:0;background:transparent;border:none;">
        <div style="display:flex;justify-content:flex-end;gap:8px;margin-bottom:12px;">
            <button class="header-btn primary" onclick="doPrintCert()" style="font-size:14px;">&#128438; ì¸ì‡„í•˜ê¸°</button>
            <button class="header-btn" onclick="closeModal('certPrintModal')">ë‹«ê¸°</button>
        </div>
        <div id="certPrintArea">
            <!-- Certificate content rendered by JS -->
        </div>
    </div>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script>
// ========== Firebase Config ==========
// Firebase SDK (compat)
const FIREBASE_LOADED = false;

// Load Firebase dynamically
function loadFirebase(config) {
    return new Promise((resolve) => {
        if (window.firebase) { resolve(); return; }
        const s1 = document.createElement('script');
        s1.src = 'https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js';
        s1.onload = () => {
            const s2 = document.createElement('script');
            s2.src = 'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js';
            s2.onload = () => {
                const s3 = document.createElement('script');
                s3.src = 'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js';
                s3.onload = () => {
                    if (config.apiKey) {
                        firebase.initializeApp(config);
                    }
                    resolve();
                };
                document.head.appendChild(s3);
            };
            document.head.appendChild(s2);
        };
        document.head.appendChild(s1);
    });
}

// ========== Local Storage Fallback ==========
const DB = {
    get(key, def) { try { return JSON.parse(localStorage.getItem('kydsa_' + key)) || def; } catch { return def; } },
    set(key, val) { localStorage.setItem('kydsa_' + key, JSON.stringify(val)); },
};

// ========== Auth ==========
const ADMIN_CREDENTIALS = DB.get('admin_creds', { password: 'admin1234' });
const AUTHORIZED_GOOGLE_UID = '118440373582587234877';

async function doGoogleLogin() {
    const errorEl = document.getElementById('loginError');
    if (!window.firebase || !firebase.auth) {
        errorEl.textContent = 'Firebase ë¯¸ì„¤ì • ìƒíƒœì…ë‹ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ë¡œ ë¨¼ì € ë¡œê·¸ì¸ í›„ ì„¤ì • ë©”ë‰´ì—ì„œ Firebase API Keyë¥¼ ì…ë ¥í•˜ì„¸ìš”.';
        errorEl.style.display = 'block';
        return;
    }
    try {
        const provider = new firebase.auth.GoogleAuthProvider();
        const result = await firebase.auth().signInWithPopup(provider);
        const googleUID = result.user.providerData[0].uid;
        if (googleUID === AUTHORIZED_GOOGLE_UID) {
            sessionStorage.setItem('kydsa_admin_auth', '1');
            errorEl.style.display = 'none';
            showAdmin();
        } else {
            await firebase.auth().signOut();
            errorEl.textContent = 'ì ‘ê·¼ ê¶Œí•œì´ ì—†ëŠ” ê³„ì •ì…ë‹ˆë‹¤.';
            errorEl.style.display = 'block';
        }
    } catch (e) {
        errorEl.textContent = 'Google ë¡œê·¸ì¸ ì‹¤íŒ¨: ' + e.message;
        errorEl.style.display = 'block';
    }
}

function doLogin() {
    const password = document.getElementById('loginPassword').value;
    const errorEl = document.getElementById('loginError');

    if (!password) {
        errorEl.textContent = 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.';
        errorEl.style.display = 'block';
        return;
    }

    if (password === ADMIN_CREDENTIALS.password) {
        sessionStorage.setItem('kydsa_admin_auth', '1');
        document.getElementById('loginPassword').value = '';
        errorEl.style.display = 'none';
        showAdmin();
    } else {
        errorEl.textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.';
        errorEl.style.display = 'block';
        document.getElementById('loginPassword').value = '';
        document.getElementById('loginPassword').focus();
        // 3íšŒ ì‹¤íŒ¨ ì‹œ 5ì´ˆ ì ê¸ˆ
        const fails = (parseInt(sessionStorage.getItem('kydsa_fails') || '0')) + 1;
        sessionStorage.setItem('kydsa_fails', fails);
        if (fails >= 3) {
            const btn = document.querySelector('.login-box button');
            btn.disabled = true;
            errorEl.textContent = 'ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”. (5ì´ˆ)';
            setTimeout(() => { btn.disabled = false; sessionStorage.removeItem('kydsa_fails'); }, 5000);
        }
    }
}

function toggleSidebar() {
    document.querySelector('.sidebar').classList.toggle('open');
    document.getElementById('sidebarOverlay').classList.toggle('show');
}
function closeSidebar() {
    document.querySelector('.sidebar').classList.remove('open');
    document.getElementById('sidebarOverlay').classList.remove('show');
}

function doLogout() {
    sessionStorage.removeItem('kydsa_admin_auth');
    if (window.firebase && firebase.auth) firebase.auth().signOut();
    document.getElementById('loginScreen').style.display = 'flex';
    document.getElementById('adminLayout').style.display = 'none';
}

function showAdmin() {
    document.getElementById('loginScreen').style.display = 'none';
    document.getElementById('adminLayout').style.display = 'block';
    document.getElementById('adminName').textContent = 'ê´€ë¦¬ì';
    refreshDashboard();
}

function changeAdminPassword() {
    const current = document.getElementById('currentPassword').value;
    const newPw   = document.getElementById('newPassword').value;
    const confirm = document.getElementById('confirmPassword').value;
    const msg     = document.getElementById('pwChangeMsg');

    const show = (text, color) => {
        msg.textContent = text;
        msg.style.color = color;
        msg.style.display = 'block';
    };

    if (!current || !newPw || !confirm) { show('ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•˜ì„¸ìš”.', 'var(--red)'); return; }
    if (current !== ADMIN_CREDENTIALS.password) { show('í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.', 'var(--red)'); return; }
    if (newPw.length < 6) { show('ìƒˆ ë¹„ë°€ë²ˆí˜¸ëŠ” 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.', 'var(--orange)'); return; }
    if (newPw !== confirm) { show('ìƒˆ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.', 'var(--red)'); return; }

    ADMIN_CREDENTIALS.password = newPw;
    DB.set('admin_creds', ADMIN_CREDENTIALS);
    document.getElementById('currentPassword').value = '';
    document.getElementById('newPassword').value = '';
    document.getElementById('confirmPassword').value = '';
    show('âœ… ë¹„ë°€ë²ˆí˜¸ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë¡œê·¸ì¸ë¶€í„° ì ìš©ë©ë‹ˆë‹¤.', 'var(--green)');
    showToast('ë¹„ë°€ë²ˆí˜¸ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.');
    setTimeout(() => { msg.style.display = 'none'; }, 5000);
}

// Auto-login (ì„¸ì…˜ ê¸°ë°˜ â€” ë¸Œë¼ìš°ì € ë‹«ìœ¼ë©´ ìë™ ë¡œê·¸ì•„ì›ƒ)
if (sessionStorage.getItem('kydsa_admin_auth') === '1') {
    showAdmin();
}

// ========== Navigation ==========
const panelTitles = {
    dashboard: 'ëŒ€ì‹œë³´ë“œ', about: 'í˜‘íšŒ ì†Œê°œ', chairman: 'ì´ì‚¬ì¥ ì¸ì‚¬ë§',
    curriculum: 'êµìœ¡ê³¼ì • ê´€ë¦¬', certs: 'ìê²©ì¦ ê´€ë¦¬', competitions: 'ëŒ€íšŒ ê´€ë¦¬',
    roadmap: '2026 ì‚¬ì—…ê³„íš ë¡œë“œë§µ', partners: 'íŒŒíŠ¸ë„ˆì‹­ ê´€ë¦¬',
    applications: 'ìê²©ì¦ ì ‘ìˆ˜ ê´€ë¦¬', members: 'íšŒì› ê´€ë¦¬',
    notices: 'ê³µì§€ì‚¬í•­ ê´€ë¦¬', settings: 'ì‚¬ì´íŠ¸ ì„¤ì •'
};

const panelActions = {
    applications: '<button class="header-btn" onclick="exportApplicationsCSV()">&#11015; ë‚´ë³´ë‚´ê¸°</button><button class="header-btn primary" onclick="openAppModal()">+ ì ‘ìˆ˜ ë“±ë¡</button>',
    members: '<button class="header-btn primary" onclick="openModal(\'memberModal\')">+ íšŒì› ë“±ë¡</button>',
    notices: '<button class="header-btn primary" onclick="openModal(\'noticeModal\')">+ ê³µì§€ ì‘ì„±</button>',
    about: '<button class="header-btn primary" onclick="saveContent(\'about\')">ì €ì¥</button>',
    chairman: '<button class="header-btn primary" onclick="saveContent(\'chairman\')">ì €ì¥</button>',
    curriculum: '<button class="header-btn primary" onclick="saveContent(\'curriculum\')">ì €ì¥</button>',
    certs: '<button class="header-btn primary" onclick="saveContent(\'certs\')">ì €ì¥</button>',
    competitions: '<button class="header-btn primary" onclick="saveContent(\'competitions\')">ì €ì¥</button>',
    roadmap: '<button class="header-btn primary" onclick="saveContent(\'roadmap\')">ì €ì¥</button>',
    partners: '<button class="header-btn primary" onclick="saveContent(\'partners\')">ì €ì¥</button>',
    settings: '<button class="header-btn primary" onclick="saveContent(\'settings\')">ì €ì¥</button>',
};

document.querySelectorAll('.sidebar-item').forEach(item => {
    item.addEventListener('click', () => {
        const panel = item.dataset.panel;
        document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
        item.classList.add('active');
        document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
        document.getElementById('panel-' + panel).classList.add('active');
        document.getElementById('panelTitle').textContent = panelTitles[panel] || panel;
        document.getElementById('headerActions').innerHTML = panelActions[panel] || '';
        if (window.innerWidth <= 768) closeSidebar();
    });
});

// ========== Tabs ==========
document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        const tab = btn.dataset.tab;
        const parent = btn.closest('.panel');
        parent.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        parent.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.getElementById('tab-' + tab).classList.add('active');
    });
});

// ========== Modals ==========
function openModal(id) { document.getElementById(id).classList.add('active'); }
function closeModal(id) { document.getElementById(id).classList.remove('active'); }

// Close on overlay click
document.querySelectorAll('.modal-overlay').forEach(overlay => {
    overlay.addEventListener('click', (e) => {
        if (e.target === overlay) overlay.classList.remove('active');
    });
});

// ========== Toast ==========
function showToast(msg, isError) {
    const t = document.getElementById('toast');
    t.textContent = msg;
    t.className = 'toast show' + (isError ? ' error' : '');
    setTimeout(() => t.classList.remove('show'), 3000);
}

// ========== Content Save ==========
function saveContent(section) {
    // Collect all inputs/textareas in the active panel
    const panel = document.getElementById('panel-' + section);
    const data = {};
    panel.querySelectorAll('input, textarea, select').forEach(el => {
        if (el.id) data[el.id] = el.type === 'checkbox' ? el.checked : el.value;
    });
    DB.set('content_' + section, data);
    showToast(panelTitles[section] + ' ì €ì¥ ì™„ë£Œ!');
}

// Load saved content
function loadContent() {
    Object.keys(panelTitles).forEach(section => {
        const data = DB.get('content_' + section, null);
        if (data) {
            Object.keys(data).forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    if (el.type === 'checkbox') el.checked = data[id];
                    else el.value = data[id];
                }
            });
        }
    });
}
loadContent();

// ========== Applications ==========
function getApplications() { return DB.get('applications', []); }
function setApplications(apps) { DB.set('applications', apps); }

// CSV ì—…ë¡œë“œ
function uploadCSV(input) {
    const file = input.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = function(e) {
        parseAndSaveCSV(e.target.result);
        input.value = '';
    };
    reader.readAsText(file, 'UTF-8');
}

function handleCSVDrop(event) {
    const file = event.dataTransfer.files[0];
    if (!file || !file.name.endsWith('.csv')) { showToast('CSV íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.', true); return; }
    const reader = new FileReader();
    reader.onload = function(e) { parseAndSaveCSV(e.target.result); };
    reader.readAsText(file, 'UTF-8');
}

function parseAndSaveCSV(text) {
    const lines = text.split('\n').map(l => l.trim()).filter(l => l);
    const apps = getApplications();
    let added = 0;
    for (let i = 1; i < lines.length; i++) {
        const cols = lines[i].split(',').map(c => c.trim().replace(/^"|"$/g, ''));
        if (!cols[0]) continue;
        const statusMap = { 'ìŠ¹ì¸': 'approved', 'ë°˜ë ¤': 'rejected', 'ëŒ€ê¸°': 'pending', 'ëŒ€ê¸°ì¤‘': 'pending' };
        apps.unshift({
            id: Date.now() + i,
            name: cols[0] || '',
            phone: cols[1] || '',
            email: cols[2] || '',
            cert: cols[3] || 'AIììœ¨ì£¼í–‰ìš´ì „ì§€ë„ì‚¬',
            note: cols[4] || '',
            payment: 'unpaid',
            date: new Date().toISOString().slice(0, 10),
            status: statusMap[cols[5]] || cols[5] || 'pending'
        });
        added++;
    }
    setApplications(apps);
    renderApplications();
    updateBadge();
    showToast(`${added}ê±´ì´ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.`);
}

// CSV ì–‘ì‹ ë‹¤ìš´ë¡œë“œ
function downloadCSVTemplate() {
    const header = 'ì´ë¦„,ì—°ë½ì²˜,ì´ë©”ì¼,ìê²©ì¦,ë¹„ê³ ,ìƒíƒœ';
    const sample = 'í™ê¸¸ë™,010-1234-5678,hong@email.com,AIììœ¨ì£¼í–‰ìš´ì „ì§€ë„ì‚¬,,ëŒ€ê¸°ì¤‘';
    const blob = new Blob(['\uFEFF' + header + '\n' + sample], { type: 'text/csv;charset=utf-8;' });
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'ìê²©ì¦ì ‘ìˆ˜_ì–‘ì‹.csv';
    a.click();
}

// ë°ì´í„° ë‚´ë³´ë‚´ê¸°
function exportApplicationsCSV() {
    const apps = getApplications();
    if (!apps.length) { showToast('ë‚´ë³´ë‚¼ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.', true); return; }
    const statusLabel = { pending: 'ëŒ€ê¸°ì¤‘', approved: 'ìŠ¹ì¸', rejected: 'ë°˜ë ¤' };
    const header = 'ì´ë¦„,ì—°ë½ì²˜,ì´ë©”ì¼,ìê²©ì¦,ì ‘ìˆ˜ì¼,ìƒíƒœ,ë¹„ê³ ';
    const rows = apps.map(a =>
        [a.name, a.phone, a.email, a.cert, a.date, statusLabel[a.status] || a.status, a.note]
        .map(v => `"${(v || '').replace(/"/g, '""')}"`).join(',')
    );
    const csv = '\uFEFF' + header + '\n' + rows.join('\n');
    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = `ìê²©ì¦ì ‘ìˆ˜_${new Date().toISOString().slice(0,10)}.csv`;
    a.click();
}

function openAppModal() {
    document.getElementById('appDate').value = new Date().toISOString().slice(0, 10);
    document.getElementById('appStatus').value = 'pending';
    openModal('appModal');
}

function updateBadge() {
    const count = getApplications().filter(a => a.status === 'pending').length;
    const badge = document.getElementById('appBadge');
    if (badge) badge.textContent = count;
}

function saveApplication() {
    const app = {
        id: Date.now(),
        name: document.getElementById('appName').value,
        phone: document.getElementById('appPhone').value,
        email: document.getElementById('appEmail').value,
        cert: document.getElementById('appCert').value,
        note: document.getElementById('appNote').value,
        payment: 'unpaid',
        date: document.getElementById('appDate').value || new Date().toISOString().slice(0, 10),
        status: document.getElementById('appStatus').value || 'pending'
    };
    if (!app.name || !app.cert) { showToast('ì´ë¦„ê³¼ ìê²©ì¦ì„ ì…ë ¥í•˜ì„¸ìš”.', true); return; }
    const apps = getApplications();
    apps.unshift(app);
    setApplications(apps);
    closeModal('appModal');
    document.getElementById('appName').value = '';
    document.getElementById('appPhone').value = '';
    document.getElementById('appEmail').value = '';
    document.getElementById('appNote').value = '';
    document.getElementById('appDate').value = '';
    document.getElementById('appStatus').value = 'pending';
    renderApplications();
    updateBadge();
    refreshDashboard();
    showToast('ì ‘ìˆ˜ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
}

function togglePayment(id) {
    const apps = getApplications();
    const app = apps.find(a => a.id === id);
    if (app) {
        app.payment = app.payment === 'paid' ? 'unpaid' : 'paid';
        setApplications(apps);
        renderApplications();
    }
    showToast(app.payment === 'paid' ? 'ì…ê¸ˆ í™•ì¸ ì™„ë£Œ' : 'ë¯¸ì…ê¸ˆìœ¼ë¡œ ë³€ê²½');
}

function updateAppStatus(id, status) {
    const apps = getApplications();
    const app = apps.find(a => a.id === id);
    if (app) { app.status = status; setApplications(apps); renderApplications(); refreshDashboard(); }
    showToast(status === 'approved' ? 'ìŠ¹ì¸ ì™„ë£Œ' : 'ë°˜ë ¤ ì²˜ë¦¬ë¨');
}

function deleteApp(id) {
    let apps = getApplications();
    apps = apps.filter(a => a.id !== id);
    setApplications(apps);
    renderApplications();
    refreshDashboard();
    showToast('ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
}

function renderApplications() {
    const apps = getApplications();
    const search = (document.getElementById('appSearch')?.value || '').toLowerCase();
    const filter = document.getElementById('appFilter')?.value || 'all';
    const filtered = apps.filter(a => {
        if (filter !== 'all' && a.status !== filter) return false;
        if (search && !a.name.toLowerCase().includes(search) && !a.cert.toLowerCase().includes(search)) return false;
        return true;
    });
    const tbody = document.getElementById('appTableBody');
    document.getElementById('appCount').textContent = filtered.length + 'ê±´';
    if (!filtered.length) {
        tbody.innerHTML = '<tr><td colspan="6"><div class="empty-state"><div class="icon">&#128203;</div><p>ì ‘ìˆ˜ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</p></div></td></tr>';
        return;
    }
    tbody.innerHTML = filtered.map(a => `<tr>
        <td><strong>${a.name}</strong></td>
        <td>${a.phone||'-'}</td>
        <td>${a.email||'-'}</td>
        <td style="font-size:12px;">${a.cert}</td>
        <td>${a.date}</td>
        <td><span class="status-badge ${a.status}">${{pending:'ëŒ€ê¸°ì¤‘',approved:'ìŠ¹ì¸',rejected:'ë°˜ë ¤'}[a.status]||a.status}</span></td>
        <td style="font-size:12px;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">${a.note||'-'}</td>
        <td>
            ${a.status==='pending'?`<button class="action-btn approve" onclick="updateAppStatus(${a.id},'approved')">ìŠ¹ì¸</button><button class="action-btn reject" onclick="updateAppStatus(${a.id},'rejected')">ë°˜ë ¤</button>`:''}
            <button class="action-btn delete" onclick="deleteApp(${a.id})">ì‚­ì œ</button>
        </td>
    </tr>`).join('');
}

document.getElementById('appSearch')?.addEventListener('input', renderApplications);
document.getElementById('appFilter')?.addEventListener('change', renderApplications);

// ========== Members ==========
function getMembers() { return DB.get('members', []); }
function setMembers(m) { DB.set('members', m); }

function saveMember() {
    const mem = {
        id: Date.now(),
        name: document.getElementById('memName').value,
        phone: document.getElementById('memPhone').value,
        email: document.getElementById('memEmail').value,
        cert: document.getElementById('memCert').value,
        certNo: document.getElementById('memCertNo').value,
        date: new Date().toISOString().slice(0, 10),
        status: 'active'
    };
    if (!mem.name) { showToast('ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.', true); return; }
    const members = getMembers();
    members.unshift(mem);
    setMembers(members);
    closeModal('memberModal');
    document.getElementById('memName').value = '';
    document.getElementById('memPhone').value = '';
    document.getElementById('memEmail').value = '';
    document.getElementById('memCertNo').value = '';
    renderMembers();
    refreshDashboard();
    showToast('íšŒì›ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
}

function deleteMember(id) {
    let members = getMembers();
    members = members.filter(m => m.id !== id);
    setMembers(members);
    renderMembers();
    refreshDashboard();
    showToast('íšŒì›ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
}

function renderMembers() {
    const members = getMembers();
    const search = (document.getElementById('memberSearch')?.value || '').toLowerCase();
    const filtered = members.filter(m => {
        if (search && !m.name.toLowerCase().includes(search) && !(m.email||'').toLowerCase().includes(search)) return false;
        return true;
    });
    const tbody = document.getElementById('memberTableBody');
    document.getElementById('memberCount').textContent = filtered.length + 'ëª…';
    if (!filtered.length) {
        tbody.innerHTML = '<tr><td colspan="8"><div class="empty-state"><div class="icon">&#128101;</div><p>ë“±ë¡ëœ íšŒì›ì´ ì—†ìŠµë‹ˆë‹¤.</p></div></td></tr>';
        return;
    }
    tbody.innerHTML = filtered.map(m => `<tr>
        <td><strong>${m.name}</strong></td><td>${m.email||'-'}</td><td>${m.phone||'-'}</td><td>${m.date}</td>
        <td>${m.cert||'-'}</td>
        <td>${m.certNo||'-'}</td>
        <td><span class="status-badge ${m.status}">${m.status==='active'?'í™œì„±':'ë¹„í™œì„±'}</span></td>
        <td>${m.cert?`<button class="action-btn" onclick="printCert(${m.id})" style="color:var(--blue);border-color:var(--blue);">&#128438; ì¸ì‡„</button>`:''}<button class="action-btn delete" onclick="deleteMember(${m.id})">ì‚­ì œ</button></td>
    </tr>`).join('');
}

document.getElementById('memberSearch')?.addEventListener('input', renderMembers);

// ========== Notices ==========
function getNotices() { return DB.get('notices', []); }
function setNotices(n) { DB.set('notices', n); }

function saveNotice() {
    const notice = {
        id: Date.now(),
        type: document.getElementById('noticeType').value,
        title: document.getElementById('noticeTitle').value,
        content: document.getElementById('noticeContent').value,
        date: new Date().toISOString().slice(0, 10)
    };
    if (!notice.title) { showToast('ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”.', true); return; }
    const notices = getNotices();
    notices.unshift(notice);
    setNotices(notices);
    closeModal('noticeModal');
    document.getElementById('noticeTitle').value = '';
    document.getElementById('noticeContent').value = '';
    renderNotices();
    refreshDashboard();
    showToast('ê³µì§€ì‚¬í•­ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
}

function deleteNotice(id) {
    let notices = getNotices();
    notices = notices.filter(n => n.id !== id);
    setNotices(notices);
    renderNotices();
    refreshDashboard();
    showToast('ê³µì§€ì‚¬í•­ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
}

function renderNotices() {
    const notices = getNotices();
    document.getElementById('noticeCount').textContent = notices.length + 'ê±´';
    const list = document.getElementById('noticeList');
    if (!notices.length) {
        list.innerHTML = '<div class="empty-state"><div class="icon">&#128227;</div><p>ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</p></div>';
        return;
    }
    list.innerHTML = notices.map(n => `<div class="notice-item">
        <span class="n-type ${n.type}">${{notice:'ê³µì§€',event:'ì´ë²¤íŠ¸',urgent:'ê¸´ê¸‰'}[n.type]}</span>
        <span class="n-title">${n.title}</span>
        <span class="n-date">${n.date}</span>
        <button class="action-btn delete" onclick="deleteNotice(${n.id})">ì‚­ì œ</button>
    </div>`).join('');
}

// ========== Dashboard ==========
function refreshDashboard() {
    const apps = getApplications();
    const members = getMembers();
    const notices = getNotices();

    document.getElementById('statMembers').textContent = members.length;
    document.getElementById('statApps').textContent = apps.filter(a=>a.status==='pending').length;
    document.getElementById('statIssued').textContent = apps.filter(a=>a.status==='approved').length;
    document.getElementById('statNotices').textContent = notices.length;
    document.getElementById('appBadge').textContent = apps.filter(a=>a.status==='pending').length;

    // Recent apps
    const recent = apps.slice(0, 5);
    const recentTbody = document.getElementById('recentApps');
    if (recent.length) {
        recentTbody.innerHTML = recent.map(a => `<tr>
            <td><strong>${a.name}</strong></td><td>${a.cert}</td><td>${a.date}</td>
            <td><span class="status-badge ${a.status}">${{pending:'ëŒ€ê¸°ì¤‘',approved:'ìŠ¹ì¸',rejected:'ë°˜ë ¤'}[a.status]}</span></td>
            <td>${a.status==='pending'?`<button class="action-btn approve" onclick="updateAppStatus(${a.id},'approved')">ìŠ¹ì¸</button>`:`-`}</td>
        </tr>`).join('');
    }

    // Recent notices
    const recentN = notices.slice(0, 5);
    const recentDiv = document.getElementById('recentNotices');
    if (recentN.length) {
        recentDiv.innerHTML = recentN.map(n => `<div class="notice-item">
            <span class="n-type ${n.type}">${{notice:'ê³µì§€',event:'ì´ë²¤íŠ¸',urgent:'ê¸´ê¸‰'}[n.type]}</span>
            <span class="n-title">${n.title}</span>
            <span class="n-date">${n.date}</span>
        </div>`).join('');
    }
}

// Initial render
renderApplications();
renderMembers();
renderNotices();

// ========== Firebase Init ==========
(async function() {
    const savedSettings = DB.get('content_settings', {});
    const apiKey = savedSettings.fbApiKey;
    if (apiKey) {
        const config = {
            apiKey: apiKey,
            authDomain: savedSettings.fbAuthDomain || 'drone.firebaseapp.com',
            projectId: savedSettings.fbProjectId || 'drone',
        };
        await loadFirebase(config);
    }
})();
</script>
</body>
</html>
